(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{358:function(t,e,n){var content=n(373);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(160).default)("5ca4ec2a",content,!0,{sourceMap:!1})},359:function(t,e,n){var content=n(375);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(160).default)("82485924",content,!0,{sourceMap:!1})},362:function(t,e,n){var content=n(382);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(160).default)("a0ff242a",content,!0,{sourceMap:!1})},363:function(t,e,n){var content=n(384);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(160).default)("4e3902c2",content,!0,{sourceMap:!1})},372:function(t,e,n){"use strict";n(358)},373:function(t,e,n){var r=n(159)(!1);r.push([t.i,".chat-return.end{margin-left:auto}.chat-return.end img.return-icon{width:17px}.chat-body{position:relative}.chat-prompt{display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5);position:sticky;top:0;left:0;width:100%;height:100%;z-index:99;transform:scale(0);transition:all .3s}.chat-prompt.active{transform:scale(1)}.prompt-box{background:#fff;padding:20px;flex-direction:column;border-radius:3px}.prompt-box,.prompt-box>div{display:flex;justify-content:center}.custom-btn.chat{color:#fff;margin:0 10px}.holder{width:100%}.chat-header{position:relative}",""]),t.exports=r},374:function(t,e,n){"use strict";n(359)},375:function(t,e,n){var r=n(159)(!1);r.push([t.i,".select-holder.rooms{width:150px;margin:5px auto}",""]),t.exports=r},381:function(t,e,n){"use strict";n(362)},382:function(t,e,n){var r=n(159)(!1);r.push([t.i,'.filter-holder{display:flex;margin-left:auto;align-items:center}.each-filter{cursor:pointer}td.item-img.food{overflow:hidden;min-width:100px;width:120px;height:70px}td.item-img.food img{-o-object-fit:cover;object-fit:cover;min-width:100%;min-height:100%}label.checkin{color:#333;font-weight:400;cursor:pointer}.comp{color:#717171}.search-result-list.select{min-width:100px;z-index:99}.search-result-list li{cursor:pointer}.table-flow{width:100%;overflow-x:auto;position:relative;padding:5px 5px 20px}.table-flow table{position:relative;width:100%;min-width:700px;border-radius:5px;color:#717171;font-family:"Gilda Display, sans-serif"}table thead{background:#f4f4f4}thead td{padding:10px;font-size:16px}tbody tr{border-bottom:1px solid #eaeaea}tbody td{font-size:14px;padding:10px}td img{cursor:pointer;width:14px;margin:3px}',""]),t.exports=r},383:function(t,e,n){"use strict";n(363)},384:function(t,e,n){var r=n(159)(!1);r.push([t.i,".item-actions.minus{font-size:18px}.item-actions.active{border:1px solid #c69958;color:#c69958}.checkin-label span{color:#c69958;font-size:14px}label.checkin{color:#333;font-weight:400;cursor:pointer}.comp{color:#717171}.search-result-list li{cursor:pointer}",""]),t.exports=r},385:function(t,e,n){"use strict";n(46),n(17),n(36),n(24);var r=n(0),o=(n(11),n(37),n(25),n(62),n(100),n(367),n(226),n(340)),c=n(81),l=n(82),h=function(){function t(e,n,r,o,l,h,d){Object(c.a)(this,t),this.foodPicture=!1,this.name=!1,this.type=!1,this.storage=!1,this.components=!1,this.category=!1,this.price=!1,this.foodPicture=e,this.foodName=n,this.foodType=r,this.foodStorage=o,this.foodComponents=l,this.foodCategory=h,this.foodPrice=d}return Object(l.a)(t,[{key:"validatePicture",value:function(){return""==this.foodPicture||null==this.foodPicture?this.picture=!1:this.picture=!0,this}},{key:"validateName",value:function(){return""==this.foodName||null==this.foodName?this.name=!1:this.name=!0,this}},{key:"validateType",value:function(){return""==this.foodType||null==this.foodType?this.type=!1:this.type=!0,this}},{key:"validateStorage",value:function(){return""==this.foodStorage||null==this.foodStorage?this.storage=!1:this.storage=!0,this}},{key:"validateComponents",value:function(){return""==this.foodComponents||this.foodComponents.length<1?this.components=!1:this.components=!0,this}},{key:"validateCategory",value:function(){return""==this.foodCategory||this.foodCategory.length<1?this.category=!1:this.category=!0,this}},{key:"validatePrice",value:function(){return""==this.foodPrice||0==this.foodPrice?this.price=!1:this.price=!0,this}},{key:"checkErrors",value:function(){return this.picture?this.name?this.type?this.storage?this.components?this.category?this.price?"success":"Please fill in the food price.":"Please fill in the drink category.":"Please fill in the food components.":"Please fill in the food storage.":"Please fill in the food type.":"Please fill in the food name.":"Please insert a picture for this food"}}]),t}(),d={data:function(){return{showList:!1,foodType:["Single","Combination"],currentType:"Combination",portionList:!1,portionType:["Portion","Plate"],currentPortion:"Portion",components:[],component:"",foodPicture:"",category:"",name:"",price:"",foodArr:[],foodLength:"",currentPage:1,limit:4,sort:"price",sortSign:"-",field:"All Food",pages:function(){for(var t=[],e=Math.ceil(this.foodLength/this.limit),i=0;i<e;i++)t.push("i");return t},showingFilter:!1,defaultFilter:"All Food",foodFilter:["Soup","Chew","Rice"],responseMsg:"",showResponseMsg:!1,error:!0,editingState:!1,eiditingId:""}},methods:{showOverlay:function(t,e,n,r){this.$store.commit("SHOW_OVERLAY",{action:t,id:e,message:n,item:r})},paginate:function(t){this.currentPage=t,this.getAllFood()},setType:function(t){this.currentType=t,this.showList=!this.showList},setPortion:function(t){this.currentPortion=t,this.portionList=!this.portionList},addComponent:function(){this.components.push(this.component),this.component=""},setPicture:function(t){this.foodPicture=t.target.files[0]},clearInputs:function(){this.editingState=!1,this.eiditingId="",this.foodPicture="",this.name="",this.components=[],this.price="",this.category="Soup"},callResponseMsg:function(t,e,n){this.responseMsg=t,this.showResponseMsg=e,this.error=n},setEditFood:function(t){this.editingState=!0,this.eiditingId=t._id,this.name=t.name,this.currentType=t.type,this.currentPortion=t.storage,this.components=t.components,this.price=t.price,this.foodPicture=t.picture,this.category=t.category},processFood:function(){var t=new h(this.foodPicture,this.name,this.currentType,this.currentPortion,this.components,this.category,this.price).validatePicture().validateName().validateType().validateStorage().validateComponents().validateCategory().validatePrice().checkErrors();if("success"!=t)this.showResponseMsg=!0,this.error=!0,this.responseMsg=t;else{this.showResponseMsg=!1;var form=new FormData,e=[];form.append("name",this.name),form.append("price",this.price),form.append("type",this.currentType),form.append("storage",this.currentPortion),this.components.forEach((function(t){e.push(t)})),form.append("components",e),form.append("category",this.category),form.append("foodPicture",this.foodPicture),1==this.editingState?this.updateFood(form):this.createFood(form)}},formatMoney:function(t){return"N"+t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},filter:function(t){this.defaultFilter=t,this.field=t,this.showingFilter=!this.showingFilter,this.getAllFood()},sortItem:function(t){var e=(-1*Number("".concat(this.sortSign,"1"))).toString().split("")[0];"1"==e&&(e=""),this.sortSign=e,this.sort="".concat(this.sortSign).concat(t),this.getAllFood()},updateFood:function(form){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.eiditingId,e.next=3,t.$store.dispatch("food/UPDATE_FOOD",{id:n,form:form});case 3:200==(r=e.sent).status?(t.callResponseMsg("The food is updated successfully.",!0,!1),t.clearInputs(),t.getAllFood()):console.log(r);case 5:case"end":return e.stop()}}),e)})))()},createFood:function(form){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("food/CREATE_FOOD",form);case 2:200==(n=e.sent).status?(t.callResponseMsg("The food is created successfully.",!0,!1),t.clearInputs(),t.getAllFood()):console.log(n);case 4:case"end":return e.stop()}}),e)})))()},getAllFood:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,filter,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="?sort=".concat(t.sort,"&limit=").concat(t.limit,"&page=").concat(t.currentPage),filter="category=".concat(t.field),"All Food"!=t.field&&(n="?sort=".concat(t.sort,"&limit=").concat(t.limit,"&page=").concat(t.currentPage,"&").concat(filter)),e.prev=3,e.next=6,t.$axios.get("/food/".concat(n));case 6:r=e.sent,t.foodArr=r.data.data,t.foodLength=r.data.resultLength,e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",e.t0.response.data.message);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))()},deleteFood:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch("food/DELETE_FOOD",t);case 2:200==(r=n.sent).status?e.getAllFood():console.log(r);case 4:case"end":return n.stop()}}),n)})))()}},computed:{URL:function(){return this.$store.state.API_URL},getUser:function(){return this.$store.getters.getUserInfo}},mounted:function(){this.getAllFood()},components:{ConfirmAction:o.a}},m=(n(381),n(61)),component=Object(m.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"each-panel full"},[e("ConfirmAction",{on:{deleteFood:function(e){return t.deleteFood(e)}}}),t._v(" "),e("h1",{staticClass:"panel-head"},[t._v("Food Settings")]),t._v(" "),e("div",{staticClass:"table-line left-align"},[e("div",{staticClass:"text-block-9 auto"},[t._v("Details")]),t._v(" "),e("div",{staticClass:"table-light"},[t._v("Result: "+t._s(t.foodLength))]),t._v(" "),e("div",{staticClass:"table-light"},[t._v("\n      Page "+t._s(t.currentPage)+" of "+t._s(t.pages().length)+"\n    ")]),t._v(" "),e("div",{staticClass:"filter-holder"},[e("div",{staticClass:"each-filter table-light",on:{click:function(e){return t.sortItem("price")}}},[t._v("\n        Price\n        "),e("img",{staticClass:"order-arrow",attrs:{src:"/img/ascend_order.svg",loading:"lazy",alt:""}})]),t._v(" "),e("div",{staticClass:"each-filter table-light",on:{click:function(e){return t.sortItem("name")}}},[t._v("\n        Name\n        "),e("img",{staticClass:"order-arrow",attrs:{src:"/img/ascend_order.svg",loading:"lazy",alt:""}})]),t._v(" "),e("div",{staticClass:"each-filter table-light",on:{click:function(e){return t.sortItem("category")}}},[t._v("\n        Category\n        "),e("img",{staticClass:"order-arrow",attrs:{src:"/img/ascend_order.svg",loading:"lazy",alt:""}})]),t._v(" "),e("div",{staticClass:"select-holder"},[e("img",{staticClass:"caret-down",attrs:{src:"/img/white-caret-icon.svg",loading:"lazy",alt:""},on:{click:function(e){t.showingFilter=!t.showingFilter}}}),t._v(" "),e("h1",{staticClass:"div-block-140 colored",on:{click:function(e){t.showingFilter=!t.showingFilter}}},[t._v("\n          "+t._s(t.defaultFilter)+"\n        ")]),t._v(" "),e("ul",{staticClass:"search-result-list select",class:{hide:!t.showingFilter},staticStyle:{"z-index":"9999"},attrs:{role:"list"}},[e("li",{staticClass:"search-list",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.filter("All Food")}}},[e("div",[t._v("All Food")])]),t._v(" "),t._l(t.foodFilter,(function(n,r){return e("li",{key:r,staticClass:"search-list",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.filter(n)}}},[e("div",[t._v(t._s(n))])])}))],2)])])]),t._v(" "),e("div",{staticClass:"table-flow"},[e("table",[t._m(0),t._v(" "),e("tbody",t._l(t.foodArr,(function(n,i){return e("tr",{key:i},[e("td",[t._v(t._s(i+1))]),t._v(" "),e("td",{staticClass:"item-img food"},[e("img",{attrs:{src:"".concat(t.URL,"/uploads/").concat(n.picture),alt:""}})]),t._v(" "),e("td",[t._v(t._s(n.name))]),t._v(" "),e("td",[t._v(t._s(n.type))]),t._v(" "),e("td",[t._v(t._s(n.storage))]),t._v(" "),e("td",t._l(n.components,(function(n,r){return e("div",{key:r,staticClass:"combo"},[t._v("\n              "+t._s(n)+"\n            ")])})),0),t._v(" "),e("td",[t._v(t._s(n.category))]),t._v(" "),e("td",[t._v(t._s(t.formatMoney(n.price)))]),t._v(" "),e("td",[e("img",{attrs:{src:"/img/edit-box-icon.svg",loading:"lazy",alt:""},on:{click:function(e){return t.setEditFood(n)}}}),t._v(" "),e("img",{attrs:{src:"/img/trash-bin-icon.svg",alt:""},on:{click:function(e){return t.showOverlay("delete",n._id,"Are you sure you want to delete this food?","food")}}})])])})),0)])]),t._v(" "),e("div",{staticClass:"pagination"},[1!=t.currentPage?e("img",{staticClass:"pagination-arrow left",attrs:{src:"/img/left-nav.svg",loading:"lazy",alt:""},on:{click:function(e){return t.paginate(t.currentPage-1)}}}):t._e(),t._v(" "),e("ul",{staticClass:"page-list",attrs:{role:"list"}},t._l(t.pages(),(function(n,r){return e("li",{key:r,staticClass:"page-items",class:{active:t.currentPage==r+1},staticStyle:{cursor:"pointer"},on:{click:function(e){return t.paginate(r+1)}}},[e("div",[t._v(t._s(r+1))])])})),0),t._v(" "),t.currentPage<t.pages().length?e("img",{staticClass:"pagination-arrow",attrs:{src:"/img/left-nav.svg",loading:"lazy",alt:""},on:{click:function(e){return t.paginate(t.currentPage+1)}}}):t._e()]),t._v(" "),"staff"==t.getUser.status?e("div",[t.showResponseMsg?e("div",{staticClass:"message rooms",class:{success:0==t.error,error:1==t.error}},[t._v("\n      "+t._s(t.responseMsg)+"\n      "),e("span",{on:{click:function(e){t.showResponseMsg=!1}}},[t._v("X")])]):t._e(),t._v(" "),e("div",{staticClass:"settings-block w-form"},[e("div",{staticClass:"settings-form",attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.processFood.apply(null,arguments)}}},[e("div",{staticClass:"checkin set"},[e("div",{staticClass:"checkin-label"},[t._v("Image")]),t._v(" "),e("label",{staticClass:"checkin set check-date w-input",attrs:{for:"food-img"}},[t._v("\n            Insert Picture\n            "),e("input",{staticStyle:{width:"0.1px",height:"0.1px"},attrs:{type:"file",placeholder:"Today",id:"food-img",required:""},on:{change:function(e){return t.setPicture(e)}}})])]),t._v(" "),e("div",{staticClass:"checkin set"},[e("div",{staticClass:"checkin-label"},[t._v("Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"check-date w-input",attrs:{type:"text",placeholder:"Food Name",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"checkin set"},[e("div",{staticClass:"checkin-label"},[t._v("Type")]),t._v(" "),e("div",{staticClass:"select-holder set"},[e("img",{staticClass:"caret-down",attrs:{src:"https://uploads-ssl.webflow.com/62dec850062ac34180b54f5c/6368707aa0291905c49ab85b_caret-down.svg",loading:"lazy",alt:""}}),t._v(" "),e("h1",{staticClass:"div-block-140",on:{click:function(e){t.showList=!t.showList}}},[t._v("\n              "+t._s(t.currentType)+"\n            ")]),t._v(" "),t.showList?e("ul",{staticClass:"search-result-list select",attrs:{role:"list"}},t._l(t.foodType,(function(n,r){return e("li",{key:r,staticClass:"search-list",on:{click:function(e){return t.setType(n)}}},[e("div",[t._v(t._s(n))])])})),0):t._e()])]),t._v(" "),e("div",{staticClass:"checkin set"},[e("div",{staticClass:"checkin-label"},[t._v("Storage")]),t._v(" "),e("div",{staticClass:"select-holder set"},[e("img",{staticClass:"caret-down",attrs:{src:"https://uploads-ssl.webflow.com/62dec850062ac34180b54f5c/6368707aa0291905c49ab85b_caret-down.svg",loading:"lazy",alt:""},on:{click:function(e){t.portionList=!t.portionList}}}),t._v(" "),e("h1",{staticClass:"div-block-140",on:{click:function(e){t.portionList=!t.portionList}}},[t._v("\n              "+t._s(t.currentPortion)+"\n            ")]),t._v(" "),t.portionList?e("ul",{staticClass:"search-result-list select",attrs:{role:"list"}},t._l(t.portionType,(function(n,r){return e("li",{key:r,staticClass:"search-list",on:{click:function(e){return t.setPortion(n)}}},[e("div",[t._v(t._s(n))])])})),0):t._e()])]),t._v(" "),e("div",{staticClass:"checkin set"},[t._l(t.components,(function(n,i){return e("div",{key:i,staticClass:"comp"},[t._v("\n            "+t._s(n)+"\n          ")])})),t._v(" "),e("div",{staticClass:"checkin-label"},[t._v("Food Components")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.component,expression:"component"}],staticClass:"check-date w-input",attrs:{type:"text",placeholder:"Write Components",id:"stock-export-3",required:""},domProps:{value:t.component},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addComponent.apply(null,arguments)},input:function(e){e.target.composing||(t.component=e.target.value)}}})],2),t._v(" "),e("div",{staticClass:"checkin set"},[e("div",{staticClass:"checkin-label"},[t._v("Category")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"check-date w-input",attrs:{type:"text",placeholder:"Soup",required:""},domProps:{value:t.category},on:{input:function(e){e.target.composing||(t.category=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"checkin set"},[e("div",{staticClass:"checkin-label"},[t._v("Price")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"check-date w-input",attrs:{type:"number",placeholder:"4000",id:"stock-export-3",required:""},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"btn-holder"},[e("input",{staticClass:"custom-btn w-button",attrs:{type:"submit",value:"Submit","data-wait":"Please wait..."},on:{click:t.processFood}}),t._v(" "),e("input",{staticClass:"custom-btn w-button",attrs:{type:"submit",value:"Cancel","data-wait":"Please wait..."},on:{click:t.clearInputs}})])])])]):t._e()],1)}),[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("td",[t._v("S/N")]),t._v(" "),e("td",[t._v("Image")]),t._v(" "),e("td",[t._v("Food Name")]),t._v(" "),e("td",[t._v("Type")]),t._v(" "),e("td",[t._v("Storage")]),t._v(" "),e("td",[t._v("Components")]),t._v(" "),e("td",[t._v("Category")]),t._v(" "),e("td",[t._v("Price")]),t._v(" "),e("td",[t._v("Action")])])])}],!1,null,null,null);e.a=component.exports},386:function(t,e,n){"use strict";n(24);var r=n(0),o=(n(11),n(126),n(52),n(63),n(17),n(37),n(36),n(226),n(340)),c=n(81),l=n(82),h=function(){function t(picture,e,n,r,o){Object(c.a)(this,t),this.picture=!1,this.name=!1,this.category=!1,this.type=!1,this.sales=!1,this.itemPicture=picture,this.itemName=e,this.itemCategory=n,this.itemType=r,this.itemSales=o}return Object(l.a)(t,[{key:"validatePicture",value:function(){return""==this.itemPicture||null==this.itemPicture?this.picture=!1:this.picture=!0,this}},{key:"validateName",value:function(){return""==this.itemName||null==this.itemName?this.name=!1:this.name=!0,this}},{key:"validateCategory",value:function(){return""==this.itemCategory||"Select"==this.itemCategory?this.category=!1:this.category=!0,this}},{key:"validateType",value:function(){return""==this.itemType||"Select"==this.itemType?this.type=!1:this.type=!0,this}},{key:"validateSalesPoint",value:function(){return this.itemSales.length>0?this.sales=!1:this.sales=!0,this}},{key:"checkErrors",value:function(){return this.picture?this.name?this.category?this.type?this.sales?"success":"Please select sales point":"Please fill in the item type.":"Please fill in the item category.":"Please fill in the item name.":"Please insert a picture for this item"}}]),t}(),d=n(391),m={data:function(){return{showCategoryList:!1,categories:["Water","Soft","Alcohol","Juice","Wine","Swallow","Eaty","Chewy","Usable"],types:["Food","Drink","Usable"],sales:"",image:"",name:"",category:"Select",type:"Select",buyingPrice:0,price:"",storeInputUnit:"",storeOutputUnit:"",storeOutputPerInput:0,sellingUnit:"",salesPoint:[],outputPerInput:0,showTypeList:!1,showSalesList:!1,showInput:!1,routeName:"",names:[],units:[],responseMsg:"",showResponseMsg:!1,error:!0,editingState:!1,eiditingId:""}},methods:{checkUserStatus:function(){return"Manager"==this.user.staffType||"Restaurant"==this.user.staffType},setCategory:function(t){this.category=t,this.showCategoryList=!this.showCategoryList},setType:function(t){this.type=t,this.showTypeList=!this.showTypeList},removeSale:function(t){this.salesPoint.splice(t,1)},addSale:function(){""==this.sales||this.salesPoint.includes(this.sales)||(this.salesPoint.push(this.sales),this.sales="")},setSales:function(t){this.sales=t,this.showSalesList=!this.showSalesList},setStorage:function(t){this.store=t,this.storageList=!this.storageList},checkRoute:function(){this.routeName=this.$route.name},setImage:function(t){this.image=t.target.files[0]},clearInputs:function(){this.editingState=!1,this.eiditingId="",this.picture="",this.name="",this.buyingPrice="",this.price="",this.sellingUnit="",this.storeOutputUnit="",this.storeInputUnit="",this.storeOutputPerInput="",this.sales="",this.salesPoint=[],this.category="Select",this.type="Select"},callResponseMsg:function(t,e,n){this.responseMsg=t,this.showResponseMsg=e,this.error=n},setEditItem:function(t){this.editingState=!0,this.eiditingId=t._id,this.image=t.image,this.name=t.name,this.category=t.category,this.type=t.type,this.buyingPrice=""==t.buyingPrice?0:t.buyingPrice,this.price=t.price,this.storeInputUnit=t.storeInputUnit,this.storeOutputUnit=t.storeOutputUnit,this.storeOutputPerInput=""==t.storeOutputPerInput?0:t.storeOutputPerInput,this.sellingUnit=t.sellingUnit,this.salesPoint=t.salesPoint},processItem:function(){var t=new h(this.image,this.name,this.category,this.type,this.sales).validatePicture().validateName().validateCategory().validateType().validateSalesPoint().checkErrors();if("success"!=t)this.callResponseMsg(t,!0,!0);else{this.showResponseMsg=!1;var form=new FormData;form.append("name",this.name),form.append("image",this.image),form.append("category",this.category),form.append("type",this.type),form.append("buyingPrice",this.buyingPrice),form.append("price",this.price),form.append("storeInputUnit",this.storeInputUnit),form.append("storeOutputUnit",this.storeOutputUnit),form.append("storeOutputPerInput",this.storeOutputPerInput),form.append("sellingUnit",this.sellingUnit),this.salesPoint.forEach((function(t){form.append("salesPoint",t)})),1==this.editingState?this.updateItem(form):this.createItem(form)}},notifyTable:function(data){this.$store.commit("item/NOTIFY_TABLE",data)},updateItem:function(form){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.eiditingId,e.next=3,t.$store.dispatch("item/UPDATE_ITEM",{id:n,form:form});case 3:200==(r=e.sent).status?(t.callResponseMsg("The food is updated successfully.",!0,!1),t.clearInputs(),t.notifyTable("updated")):(console.log(r),t.callResponseMsg(r,!0,!0));case 5:case"end":return e.stop()}}),e)})))()},createItem:function(form){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("item/CREATE_ITEM",form);case 2:200==(n=e.sent).status?(t.callResponseMsg("The item is created successfully.",!0,!1),t.clearInputs(),t.notifyTable("created")):console.log(n.response.data);case 4:case"end":return e.stop()}}),e)})))()},getAllItems:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var filter,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return filter="admin-order"==t.$route.name?"type[ne]=Usable":"","All Items"!=t.field&&(filter="type=".concat(t.field)),n="?sort=".concat(t.sort,"&limit=").concat(t.limit,"&page=").concat(t.currentPage,"&").concat(filter),e.prev=3,e.next=6,t.$axios.get("/items/".concat(n));case 6:r=e.sent,t.items=r.data.data,t.itemLength=r.data.resultLength,e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",e.t0.response.data.message);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))()},deleteDrink:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch("drink/DELETE_DRINK",t);case 2:200==(r=n.sent).status?e.getAllItems():console.log(r);case 4:case"end":return n.stop()}}),n)})))()}},computed:{URL:function(){return this.$store.state.API_URL},user:function(){return this.$store.getters.getUserInfo}},mounted:function(){var t=this;this.checkRoute(),this.getAllItems(),this.socket=this.$nuxtSocket({}),this.socket.on("fetchedItems",(function(data,e){t.items=data,t.itemLength=data.length})),this.socket.on("createdOrder",(function(data,e){t.callResponseMsg("The order is created successfully.",!0,!1)}))},components:{ConfirmAction:o.a,AdminItems:d.a}},f=(n(383),n(61)),component=Object(f.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"each-panel full"},[e("AdminItems",{on:{editItem:t.setEditItem}}),t._v(" "),"admin-settings"==t.routeName?e("div",{staticClass:"settings-block w-form"},[e("div",{staticClass:"settings-form",attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.processItem.apply(null,arguments)}}},[e("div",{staticClass:"checkin set"},[t._m(0),t._v(" "),e("label",{staticClass:"checkin set check-date w-input",attrs:{for:"drink-img"}},[t._v("\n          Insert Picture\n          "),e("input",{staticStyle:{width:"0.1px",height:"0.1px"},attrs:{type:"file",id:"drink-img",required:""},on:{change:function(e){return t.setImage(e)}}})])]),t._v(" "),e("div",{staticClass:"checkin set"},[t._m(1),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"check-date w-input",attrs:{type:"text",placeholder:"Drink Name",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"checkin set"},[t._m(2),t._v(" "),e("div",{staticClass:"select-holder set"},[e("img",{staticClass:"caret-down",attrs:{src:"/img/caret-gray.svg",loading:"lazy",alt:""}}),t._v(" "),e("h1",{staticClass:"div-block-140",on:{click:function(e){t.showCategoryList=!t.showCategoryList}}},[t._v("\n            "+t._s(t.category)+"\n          ")]),t._v(" "),t.showCategoryList?e("ul",{staticClass:"search-result-list select",attrs:{role:"list"}},t._l(t.categories,(function(n,r){return e("li",{key:r,staticClass:"search-list",on:{click:function(e){return t.setCategory(n)}}},[e("div",[t._v(t._s(n))])])})),0):t._e()])]),t._v(" "),e("div",{staticClass:"checkin set"},[t._m(3),t._v(" "),e("div",{staticClass:"select-holder set"},[e("img",{staticClass:"caret-down",attrs:{src:"/img/caret-gray.svg",loading:"lazy",alt:""}}),t._v(" "),e("h1",{staticClass:"div-block-140",on:{click:function(e){t.showTypeList=!t.showTypeList}}},[t._v("\n            "+t._s(t.type)+"\n          ")]),t._v(" "),t.showTypeList?e("ul",{staticClass:"search-result-list select",attrs:{role:"list"}},t._l(t.types,(function(n,r){return e("li",{key:r,staticClass:"search-list",on:{click:function(e){return t.setType(n)}}},[e("div",[t._v(t._s(n))])])})),0):t._e()])]),t._v(" "),e("div",{staticClass:"checkin set"},[e("div",{staticClass:"checkin-label"},[t._v("Buying Price")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.buyingPrice,expression:"buyingPrice"}],staticClass:"check-date w-input",attrs:{type:"number",placeholder:"4000",name:"price",required:""},domProps:{value:t.buyingPrice},on:{input:function(e){e.target.composing||(t.buyingPrice=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"checkin set"},[e("div",{staticClass:"checkin-label"},[t._v("Selling Price")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"check-date w-input",attrs:{type:"number",placeholder:"4000",name:"price",required:""},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"checkin set"},[e("div",{staticClass:"checkin-label"},[t._v("Store Input Unit")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.storeInputUnit,expression:"storeInputUnit"}],staticClass:"check-date w-input",attrs:{type:"text",placeholder:"Input Unit",name:"unit",required:""},domProps:{value:t.storeInputUnit},on:{input:function(e){e.target.composing||(t.storeInputUnit=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"checkin set"},[e("div",{staticClass:"checkin-label"},[t._v("Store Output Unit")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.storeOutputUnit,expression:"storeOutputUnit"}],staticClass:"check-date w-input",attrs:{type:"text",placeholder:"Output Unit",name:"unit",required:""},domProps:{value:t.storeOutputUnit},on:{input:function(e){e.target.composing||(t.storeOutputUnit=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"checkin set"},[e("div",{staticClass:"checkin-label"},[t._v("Store Output / Input")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.storeOutputPerInput,expression:"storeOutputPerInput"}],staticClass:"check-date w-input",attrs:{type:"number",placeholder:"5",id:"stock-export-2",required:""},domProps:{value:t.storeOutputPerInput},on:{input:function(e){e.target.composing||(t.storeOutputPerInput=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"checkin set"},[e("div",{staticClass:"checkin-label"},[t._v("Selling Unit")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sellingUnit,expression:"sellingUnit"}],staticClass:"check-date w-input",attrs:{type:"text",placeholder:"Selling Unit",id:"stock-export-2",required:""},domProps:{value:t.sellingUnit},on:{input:function(e){e.target.composing||(t.sellingUnit=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"checkin set"},[t.salesPoint.length>0?e("ul",{staticClass:"vision-list",attrs:{role:"list"}},t._l(t.salesPoint,(function(n,i){return e("li",{key:i,staticClass:"each-vision"},[e("img",{staticClass:"vision-icon trash",attrs:{src:"/img/trash-bin-icon.svg",loading:"lazy",alt:""},on:{click:function(e){return t.removeSale(i)}}}),t._v(" "),e("div",{staticClass:"vision-text"},[t._v("\n              "+t._s(n)+"\n            ")])])})),0):t._e(),t._v(" "),t._m(4),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sales,expression:"sales"}],staticClass:"check-date w-input",attrs:{type:"text",placeholder:"Write and press Enter"},domProps:{value:t.sales},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addSale.apply(null,arguments)},input:function(e){e.target.composing||(t.sales=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"btn-holder"},["admin-settings"==t.routeName?e("input",{staticClass:"custom-btn w-button",attrs:{type:"submit",value:"Submit","data-wait":"Please wait..."},on:{click:function(e){return t.processItem()}}}):t._e(),t._v(" "),e("input",{staticClass:"custom-btn w-button",attrs:{type:"submit",value:"Cancel","data-wait":"Please wait..."},on:{click:t.clearInputs}})])])]):t._e()],1)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"checkin-label"},[t._v("Image "),e("span",[t._v("*")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"checkin-label"},[t._v("Name "),e("span",[t._v("*")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"checkin-label"},[t._v("Category "),e("span",[t._v("*")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"checkin-label"},[t._v("Type "),e("span",[t._v("*")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"checkin-label"},[t._v("Sales Point "),e("span",[t._v("*")])])}],!1,null,null,null);e.a=component.exports},388:function(t,e,n){"use strict";n(24),n(36),n(83),n(52),n(63);var r={data:function(){return{message:"",sentMessages:[]}},computed:{userInfo:function(){return this.$store.getters.getUserInfo},checkScroll:function(){return this.$store.state.chat.scrollDown},chatMessages:function(){return this.$store.state.chat.chatMessages},showPrompt:function(){return this.$store.state.chat.showPrompt},rooms:function(){return this.$store.state.chat.rooms},services:function(){return this.$store.state.chat.services},chatState:function(){return this.$store.state.chat.chatState},currentChatPartner:function(){return this.$store.state.chat.currentChatPartner},activeRoom:function(){return this.$store.state.chat.activeRoom},routeName:function(){return this.$route.name}},methods:{formatAMPM:function(t){var e=t.getHours(),n=t.getMinutes(),r=e>=12?"pm":"am";return(e=(e%=12)||12)+":"+(n=n<10?"0"+n:n)+" "+r},hideChat:function(){this.$store.commit("chat/HIDE_CHAT")},showPromptBox:function(){this.$store.commit("chat/SHOW_PROMPT")},toggleShowPrompt:function(){this.$store.commit("chat/TOGGLE_PROMPT")},endChat:function(){this.socket.emit("endChat",this.chatMessages._id),this.hideChat()},cancelPrompt:function(){this.$store.commit("chat/HIDE_PROMPT")},processMessage:function(){var t=new Date,time=this.formatAMPM(t),e="".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear()),data={members:"User"==this.userInfo.status?[this.userInfo.activeRoom,this.currentChatPartner]:[this.activeRoom,this.userInfo.staffType],date:e,messages:{username:this.userInfo.username,time:time,message:this.message}};this.sendMessage(data)},sendMessage:function(data){this.socket.emit("sendMessage",data),this.message=""},scrollDown:function(){var t=document.querySelector(".chat-body");null!=t&&(t.scrollTop=t.scrollHeight)},refreshRooms:function(){"Staff"==this.userInfo.status&&this.socket.emit("getRooms",this.userInfo.staffType),"User"==this.userInfo.status&&this.socket.emit("getOffices",this.userInfo.activeRoom)}},mounted:function(){var t=this;this.socket=this.$nuxtSocket({}),this.scrollDown(),this.$watch("checkScroll",(function(a,b){t.scrollDown()})),this.socket.on("roomMessages",(function(e,n){t.refreshRooms(),t.scrollDown()}));var e=function(){document.getElementById("messageSound").innerHTML="<audio autoplay=\"autoplay\"><source src='/sound/sweet.wav' type='audio/mpeg'></audio>"},n=this.userInfo;this.socket.on("receivedMessage",(function(r,o){"Staff"==n.status?n.staffType==r.members[1]&&t.activeRoom==r.members[0]&&t.$store.commit("chat/ADD_MESSAGE",r):n.activeRoom==r.members[0]&&t.currentChatPartner==r.members[1]&&t.$store.commit("chat/ADD_MESSAGE",r),setTimeout((function(){var t=document.querySelector(".chat-body");null!=t&&(t.scrollTop=t.scrollHeight)}),5),"Staff"==n.status?n.username!=r.messages.username&&r.members.includes(n.staffType)&&(e(),t.refreshRooms()):"User"==n.status&&n.username!=r.messages.username&&r.members.includes(n.activeRoom)&&(e(),t.refreshRooms())})),this.socket.on("receivedAutoMessage",(function(t,r){n.activeRoom!=t.members[0]&&n.staffType!=t.members[1]||e()})),this.socket.on("chatEnded",(function(e,r){t.refreshRooms();var o=function(){t.$store.commit("chat/RESET_MESSAGE",e),t.hideChat()};"Staff"==n.status?n.staffType==e.members[1]&&t.activeRoom==e.members[0]&&o():n.activeRoom==e.members[0]&&t.currentChatPartner==e.members[1]&&o()}))}},o=(n(372),n(61)),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return t.chatState?e("div",{staticClass:"each-panel full chat"},[e("div",{staticClass:"chat-header"},[e("div",{staticClass:"chat-return",on:{click:t.hideChat}},[e("img",{staticClass:"return-icon",attrs:{src:"/img/back-icon.svg",loading:"lazy",alt:""}})]),t._v(" "),"admin-order"==t.routeName?e("h1",{staticClass:"chat-title"},[t._v("\n      Chat with "+t._s(t.currentChatPartner)+"\n    ")]):"admin-sales"==t.routeName?e("h1",{staticClass:"chat-title"},[t._v("\n      Chat with Room "+t._s(t.activeRoom)+",\n    ")]):t._e(),t._v(" "),t.chatMessages?e("div",{staticClass:"chat-return end",on:{click:t.toggleShowPrompt}},[e("img",{staticClass:"return-icon",attrs:{src:"/img/close.svg",loading:"lazy",alt:""}})]):t._e()]),t._v(" "),e("div",{staticClass:"chat-body"},[e("div",{staticClass:"chat-prompt",class:{active:t.showPrompt}},[e("div",{staticClass:"prompt-box"},[e("h2",{staticClass:"panel-head"},[t._v("End This Chat")]),t._v(" "),e("div",[e("button",{staticClass:"custom-btn chat",on:{click:t.endChat}},[t._v("Yes")]),t._v(" "),e("button",{staticClass:"custom-btn chat",on:{click:t.cancelPrompt}},[t._v("No")])])])]),t._v(" "),t.chatMessages?e("div",t._l(t.chatMessages.messages,(function(n,i){return e("div",{key:i,staticClass:"each-chat-day"},[e("div",{staticClass:"custom-btn date"},[t._v(t._s(n.date))]),t._v(" "),e("ul",{staticClass:"each-chat-list",attrs:{role:"list"}},t._l(n.dailyMessages,(function(n,r){return e("li",{key:r,staticClass:"chat-msg",class:{first:n.username==t.userInfo.username,second:n.username!=t.userInfo.username}},[e("div",{staticClass:"chat-msg-main",class:{light:n.username==t.userInfo.username}},[t._v("\n              "+t._s(n.message)+"\n            ")]),t._v(" "),e("div",{staticClass:"chat-time"},[t._v(t._s(n.time))])])})),0)])})),0):t._e()]),t._v(" "),e("div",{staticClass:"chat-footer w-form"},[e("form",{staticClass:"chat-form",attrs:{method:"get"}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"chat-input w-input",attrs:{placeholder:"Enter message",maxlength:"5000",required:""},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),e("img",{staticClass:"send-msg",attrs:{src:"/img/white-send-icon.svg",loading:"lazy",alt:""},on:{click:t.processMessage}})])])]):t._e()}),[],!1,null,null,null);e.a=component.exports},389:function(t,e,n){"use strict";var r=n(0),o=(n(11),n(17),n(37),n(52),n(24),n(36),{data:function(){return{rooms:"",showRooms:!1,defaultRoom:"Select Room",roomsArray:[],hotel:"",showOffice:!1,defaultOffice:"Select Office",officeArray:[],salesPoints:[]}},computed:{userInfo:function(){return this.$store.getters.getUserInfo},offices:function(){var t=[],e=["CEO","Manager","User"];return this.hotel&&this.hotel.salesPoints.forEach((function(n){e.includes(n)||t.push(n)})),t},bookedRooms:function(){var t=[];return this.roomsArray.forEach((function(e){e.isBooked&&t.push(e)})),t},chatMessages:function(){return this.$store.state.chat.chatMessages},chatState:function(){return this.$store.state.chat.chatState},currentRoom:function(){return this.$store.state.chat.currentRoom},currentStaff:function(){return this.$store.state.chat.currentStaff},routeName:function(){return this.$route.name}},methods:{formatAMPM:function(t){var e=t.getHours(),n=t.getMinutes(),r=e>=12?"pm":"am";return(e=(e%=12)||12)+":"+(n=n<10?"0"+n:n)+" "+r},showChat:function(){this.$store.commit("chat/SHOW_CHAT")},hideChat:function(){this.$store.commit("chat/HIDE_CHAT")},selectChatPartner:function(t){this.$store.commit("chat/SELECT_CHAT_PARTNER",t)},selectRoom:function(t){this.$store.commit("chat/SELECT_ROOM",t)},getOrderMessages:function(data){var t,e;this.$store.commit("chat/HIDE_PROMPT"),"User"==this.userInfo.status?this.selectChatPartner(data):this.selectRoom(data);var n=this.userInfo.status;"User"==n?(t=this.userInfo.activeRoom,e=data):"Staff"==n&&(t=data,e=this.userInfo.staffType);var r=[t,e],o=this.userInfo.username;this.socket.emit("getOrderMessages",{members:r,user:o}),this.showChat()},processMessage:function(){var t,e=new Date,time=this.formatAMPM(e),data={date:"".concat(e.getDate(),"/").concat(e.getMonth()+1,"/").concat(e.getFullYear()),members:"User"==this.userInfo.status?[t=this.userInfo.username,this.currentRoom]:[t=this.userInfo.staffType,this.currentStaff],messages:{username:t,time:time,message:this.message}};this.sendMessage(data)},sendMessage:function(data){this.$store.dispatch("chat/SEND_MESSAGE",this.userInfo),this.socket.emit("sendMessage",data),this.message=""},getMessage:function(){var t=this,e=document.querySelector(".chat-body");this.socket.emit("getMessage",{id:"abc123"},(function(n){t.messageRxd=n,e.scrollTop=e.scrollHeight}))},scrollDown:function(){var t=document.querySelector(".chat-body");null!=t&&(t.scrollTop=t.scrollHeight)},getRooms:function(){"Staff"==this.userInfo.status&&this.socket.emit("getRooms",this.userInfo.staffType)},getOffices:function(){"User"==this.userInfo.status&&this.socket.emit("getOffices",this.userInfo.activeRoom)},filterRoom:function(data){this.getOrderMessages(data),this.showRooms=!this.showRooms,this.scrollDown()},filterOffice:function(data){this.getOrderMessages(data),this.showOffice=!this.showOffice,this.$store.commit("chat/SCROLL_DOWN")},fetchRooms:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/rooms/?isBooked=true");case 3:n=e.sent,t.roomsArray=n.data.data,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getHotel:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/hotel");case 3:n=e.sent,t.hotel=n.data.data[0],e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},mounted:function(){var t=this;this.fetchRooms(),this.getHotel(),this.socket=this.$nuxtSocket({});var e=this.userInfo;this.socket.on("roomMessages",(function(n,r){n.switchingUser==e.username&&(t.$store.commit("chat/SET_MESSAGES",n),t.scrollDown())})),this.socket.on("unreadRooms",(function(e,n){t.rooms=e})),this.socket.on("unreadOffices",(function(e,n){t.salesPoints=e})),this.getRooms(),this.getOffices()}}),c=(n(374),n(61)),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"each-panel full"},[e("div",{attrs:{id:"messageSound"}}),t._v(" "),"User"==t.userInfo.status?e("h1",{staticClass:"panel-head"},[t._v("Service Orders")]):e("h1",{staticClass:"panel-head"},[t._v("Room Orders")]),t._v(" "),"User"==t.userInfo.status?e("div",{staticClass:"room-tags"},t._l(t.salesPoints,(function(n){return e("div",{key:n._id,staticClass:"custom-btn gray",on:{click:function(e){return t.getOrderMessages(n.members[1])}}},[e("div",[t._v(t._s(n.members[1]))]),t._v(" "),e("div",{staticClass:"notification room"})])})),0):"Restaurant"==t.userInfo.staffType||"Bar"==t.userInfo.staffType||"Reception"==t.userInfo.staffType?e("div",{staticClass:"room-tags"},[""!=t.rooms?e("div",t._l(t.rooms,(function(n){return e("div",{key:n._id,staticClass:"custom-btn gray",on:{click:function(e){return t.getOrderMessages(n.members[0])}}},[e("div",[t._v(t._s(n.members[0]))]),t._v(" "),e("div",{staticClass:"notification room"})])})),0):t._e()]):t._e(),t._v(" "),"Staff"==t.userInfo.status?e("div",{staticClass:"select-holder rooms"},[e("img",{staticClass:"caret-down",attrs:{src:"/img/white-caret-icon.svg",loading:"lazy",alt:""},on:{click:function(e){t.showRooms=!t.showRooms}}}),t._v(" "),e("h1",{staticClass:"div-block-140 colored",on:{click:function(e){t.showRooms=!t.showRooms}}},[t._v("\n      "+t._s(t.defaultRoom)+"\n    ")]),t._v(" "),e("ul",{staticClass:"search-result-list select",class:{hide:!t.showRooms},staticStyle:{"z-index":"99"},attrs:{role:"list"}},t._l(t.bookedRooms,(function(n,r){return e("li",{key:r,staticClass:"search-list",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.filterRoom(n.roomNumber)}}},[e("div",[t._v(t._s(n.roomNumber))])])})),0)]):e("div",{staticClass:"select-holder rooms"},[e("img",{staticClass:"caret-down",attrs:{src:"/img/white-caret-icon.svg",loading:"lazy",alt:""},on:{click:function(e){t.showOffice=!t.showOffice}}}),t._v(" "),e("h1",{staticClass:"div-block-140 colored",on:{click:function(e){t.showOffice=!t.showOffice}}},[t._v("\n      "+t._s(t.defaultOffice)+"\n    ")]),t._v(" "),t.offices.length>0?e("ul",{staticClass:"search-result-list select",class:{hide:!t.showOffice},staticStyle:{"z-index":"99"},attrs:{role:"list"}},t._l(t.offices,(function(n,r){return e("li",{key:r,staticClass:"search-list",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.filterOffice(n)}}},[e("div",[t._v(t._s(n))])])})),0):t._e()])])}),[],!1,null,null,null);e.a=component.exports},440:function(t,e,n){var content=n(565);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(160).default)("35658488",content,!0,{sourceMap:!1})},564:function(t,e,n){"use strict";n(440)},565:function(t,e,n){var r=n(159)(!1);r.push([t.i,'.each-panel.full{position:relative}.cart-table{position:absolute;top:60px;left:0;z-index:999;box-shadow:0 0 20px 0 rgba(0,0,0,.1);background:#fff;font-size:12px}.table-highlight{display:flex}.table-line.left-align{flex-wrap:wrap;justify-content:space-between}.right-flex,.table-search{display:flex;align-items:center}.table-search{background:#f4f4f4;padding:5px}.table-search img{cursor:pointer;width:20px;margin-right:5px}.table-search .search-input{border:none;outline:none;background:transparent;color:#666;width:0;transition:all .3s;background:#f4f4f4}.table-search .search-input.active{width:250px}.cart-holder{display:flex;position:sticky;position:-webkit-sticky;margin-bottom:20px;top:0;left:15px;z-index:999;max-width:150px}.cart-container{display:flex;align-items:center;flex-wrap:wrap;background:#fff;padding:10px;border-radius:5px;cursor:pointer;color:#666;box-shadow:0 0 20px 0 rgba(0,0,0,.1)}.cart-display{position:relative;margin-left:20px}.cart-container .btn-holder{width:auto;padding:2px 5px;background:#fff;position:absolute;top:20px;left:0}.cart-container .btn-holder input{padding:0 5px;font-size:10px}.cart-number{background:#c69958;color:#fff;width:20px;height:20px;font-size:13px;border-radius:50%;display:flex;justify-content:center;align-items:center;position:absolute;top:-5px;right:-5px}.cart-display img{width:30px}td{position:relative}.cart-action{position:absolute;top:20px;right:10px}td.sn{min-width:60px}.cart-action .item-actions{display:flex;justify-content:center;border:1px solid #666;color:#666;align-items:center;width:20px;height:20px;cursor:pointer;border-radius:50%;margin-bottom:10px}.item-actions.minus{font-size:18px}.item-actions.active{border:1px solid #c69958;color:#c69958}label.checkin{color:#333;font-weight:400;cursor:pointer}.comp{color:#717171}.search-result-list li{cursor:pointer}.table-flow{width:100%;overflow-x:auto;position:relative;padding:5px 5px 20px}.table-flow table{position:relative;width:100%;min-width:700px;border-radius:5px;color:#717171;font-family:"Gilda Display, sans-serif"}table thead{background:#f4f4f4}thead td{padding:10px;font-size:18px}tbody tr{border-bottom:1px solid #eaeaea}tbody td{font-size:16px;padding:10px}.cart-table thead td{font-size:14px}.cart-table tbody td{font-size:12px}td.item-img img{height:50px;width:auto}td img{cursor:pointer;width:14px;margin:3px}.left-flex{align-items:center}.filter-holder,.left-flex{display:flex}@media screen and (max-width:720px){.table-line.left-align{flex-wrap:wrap;flex-direction:column-reverse}.filter-holder{justify-content:space-between;width:100%;margin-bottom:10px}.right-flex,.table-search{width:100%}}',""]),t.exports=r},592:function(t,e,n){"use strict";n.r(e);n(24),n(46),n(17),n(36);var r=n(0),o=(n(11),n(25),n(62),n(100),n(367),n(226),n(37),n(238),n(352)),c=n(388),l=n(389),h=n(353),d=n(354),m=n(355),f=n(385),v=n(386),_=n(424),y=n.n(_),C={components:{AdminFooter:h.a,AdminNavigation:m.a,AdminHeader:d.a,AdminCards:o.a,AdminSettingsFood:f.a,AdminSettingsItems:v.a,AdminChatNavigation:l.a,AdminChatBox:c.a},data:function(){return{items:[],itemLength:"",currentPage:1,limit:4,sort:"name",sign:"",field:"All Items",showInput:!1,salesPoint:"Select Sales",salesPoints:["Bar","Restaurant","House Keeper"],pages:function(){for(var t=[],e=Math.ceil(this.itemLength/this.limit),i=0;i<e;i++)t.push("i");return t},showingFilter:!1,defaultFilter:"All Items",inputItems:"",enableAction:!1,showCartTable:!1,cartItems:[],showCartList:!1,routeName:"",names:[],units:[],responseMsg:"",showResponseMsg:!1,error:!0,editingState:!1,eiditingId:""}},methods:{showOverlay:function(t,e,n,r){this.$store.commit("SHOW_OVERLAY",{action:t,id:e,message:n,item:r})},checkAvailability:function(data){return data.length>1?"".concat(data[0]," & ").concat(data[1]):data[0]},pluralizeWord:function(t,e){return 0==e?t:y()(t,e)},focusInput:function(){this.showInput=!0,this.$refs.inputFocus.focus()},formatDate:function(data){var t=new Date(data),e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getUTCDay()],n=t.getUTCDate(),r=n>3&&n<21?"th":["th","st","nd","rd","th"][n%10]||"th",o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getUTCMonth()],c=t.getUTCFullYear();return"".concat(e," ").concat(n).concat(r," ").concat(o,", ").concat(c)},checkUserStatus:function(){return"Manager"==this.user.staffType||"Restaurant"==this.user.staffType},types:function(){return["Drink","Usable"]},paginate:function(t){this.currentPage=t,this.getAllItems()},setSales:function(t){this.salesPoint=t,this.showCartList=!1},checkRoute:function(){this.routeName=this.$route.name},callResponseMsg:function(t,e,n){this.responseMsg=t,this.showResponseMsg=e,this.error=n},formatMoney:function(t){return null==t||""==t?"":"N"+t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},formCartItems:function(t,data){data.name=t.name,data.remaining=t.remaining,data.storeOutputPerInput=t.storeOutputPerInput,data.storeInputUnit=t.storeInputUnit,data.storeOutputUnit=t.storeOutputUnit,0==this.cartItems.length||this.cartItems[0].name==data.name&&this.cartItems[0].sign==data.sign?this.cartItems.push(data):"minus"==data.sign?this.callResponseMsg("Process or Cancel the cart before removing an item from the store",!0,!0):this.callResponseMsg("Process or Cancel the cart before adding another item from the store",!0,!0)},addToStore:function(t,e){var data={price:"",storeInputUnit:""};data.price=Number("-".concat(e.buyingPrice)),data.storeInputUnit=e.storeInputUnit,data.sign="plus",this.formCartItems(e,data)},removeFromStore:function(t,e){var data={};data.storeOutputUnit=e.storeOutputUnit,data.sign="minus",this.sign="minus",data.available=e.available,this.formCartItems(e,data)},filter:function(t){this.defaultFilter=t,this.field=t,this.showingFilter=!this.showingFilter,this.getAllItems()},sortItem:function(t){var e=(-1*Number("".concat(this.sortSign,"1"))).toString().split("")[0];"1"==e&&(e=""),this.sortSign=e,this.sort="".concat(this.sortSign).concat(t),this.getAllItems()},clearOrder:function(){this.showCartTable=!1,this.cartItems=[]},processOrder:function(){var t=this;if("Select Sales"!=this.salesPoint||"minus"!=this.sign){for(var e=[],n=function(i){var n=t.cartItems[i];e.find((function(p){return p.name===n.name&&p.storeInputUnit===n.storeInputUnit}))||(n.quantity=0,e.push(n))},i=0;i<this.cartItems.length;i++)n(i);e.forEach((function(e){t.cartItems.forEach((function(t){e.name==t.name&&e.quantity++})),"plus"==e.sign&&(e.buyingPrice=e.buyingPrice*e.quantity)}));var r=new Date,o=r.toLocaleString("en-NG",{timeZone:"Africa/Lagos",weekday:"short",year:"numeric",month:"long",day:"numeric"}),form={description:e,customerId:this.user._id,day:"".concat(r.getDate(),"/").concat(r.getMonth(),"/").concat(r.getFullYear()),time:r,formatedDate:o,salesPoint:this.salesPoint};this.createStore(form),this.callResponseMsg("",!1,!0)}else this.callResponseMsg("Please select sales Point to remove item",!0,!0)},setEditItem:function(t){this.$emit("editItem",t)},createStore:function(form){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.socket.emit("createStore",form);case 1:case"end":return e.stop()}}),e)})))()},resetStore:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.patch("/items");case 3:t.getAllItems(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t.callResponseMsg(e.t0.response.data.message,!0,!0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},fetchItems:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var filter,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:filter="admin-order"==t.$route.name||"admin-sales"==t.$route.name?{$ne:"Usable"}:{$ne:""},"All Items"!=t.field&&(filter=t.field),data={keyWord:t.inputItems,type:filter},""==t.inputItems?t.getAllItems():t.socket.emit("fetchItems",data);case 4:case"end":return e.stop()}}),e)})))()},getAllItems:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var filter,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return filter="All Items"==t.field?"type[ne]=Food":"type=".concat(t.field),n="?sort=".concat(t.sort,"&limit=").concat(t.limit,"&page=").concat(t.currentPage,"&").concat(filter),e.prev=2,e.next=5,t.$axios.get("/items/".concat(n));case 5:r=e.sent,t.items=r.data.data,t.itemLength=r.data.resultLength,e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",e.t0.response.data.message);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))()},deleteDrink:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch("drink/DELETE_DRINK",t);case 2:200==(r=n.sent).status?e.getAllItems():console.log(r);case 4:case"end":return n.stop()}}),n)})))()},getHotel:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/hotel");case 3:return n=e.sent,e.next=6,n.data.data[0].salesPoints;case 6:t.salesPoints=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t.callResponseMsg(e.t0.response.data.message,!0,!0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}},watch:{selected:function(t){"admin-settings"==this.routeName&&("updated"==t?this.callResponseMsg("The item is updated successfully.",!0,!1):"created"==t&&this.callResponseMsg("The item is created successfully.",!0,!1),this.getAllItems())}},computed:{URL:function(){return this.$store.state.API_URL},user:function(){return this.$store.getters.getUserInfo},selected:function(){return this.$store.state.item.selected}},mounted:function(){var t=this;this.checkRoute(),this.getAllItems(),this.getHotel(),this.socket=this.$nuxtSocket({}),this.socket.on("createdStore",(function(data,e){"success"==data?t.callResponseMsg("The store is created successfully.",!0,!1):t.callResponseMsg(data,!0,!0),t.getAllItems(),t.clearOrder()}))}},w=(n(564),n(61)),component=Object(w.a)(C,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"order"},[e("AdminHeader"),t._v(" "),e("div",{staticClass:"admin-content"},[e("AdminNavigation"),t._v(" "),e("div",{staticClass:"middle-content"},[e("AdminCards"),t._v(" "),e("div",{staticClass:"each-panel full",staticStyle:{"margin-top":"20px"}},[e("h1",{staticClass:"panel-head"},[t._v("Store Keeper")]),t._v(" "),e("div",{staticClass:"cart-holder"},[e("div",{staticClass:"cart-container"},[e("div",{staticClass:"cart-display",on:{click:function(e){t.showCartTable=!t.showCartTable}}},[e("div",{staticClass:"cart-number"},[t._v(t._s(t.cartItems.length))]),t._v(" "),e("img",{attrs:{src:"/img/shop-cart.svg",alt:""}})]),t._v(" "),t.cartItems.length>0?e("div",{staticClass:"btn-holder"},[e("input",{staticClass:"custom-btn w-button",attrs:{type:"button",value:"Order","data-wait":"Please wait..."},on:{click:t.processOrder}}),t._v(" "),e("input",{staticClass:"custom-btn w-button",attrs:{type:"submit",value:"Cancel","data-wait":"Please wait..."},on:{click:t.clearOrder}})]):t._e(),t._v(" "),t.showCartTable?e("table",{staticClass:"cart-table"},[t._m(0),t._v(" "),e("tbody",t._l(t.cartItems,(function(n,i){return e("tr",{key:i},[e("td",{staticClass:"sn"},[t._v("\n                    "+t._s(i+1)+"\n                  ")]),t._v(" "),e("td",[t._v(t._s(n.name))]),t._v(" "),e("td",[t._v(t._s(t.formatMoney(n.price)))])])})),0)]):t._e()])]),t._v(" "),e("div",{staticClass:"table-line left-align"},[e("div",{staticClass:"right-flex"},[e("div",{staticClass:"table-search"},[e("img",{attrs:{src:"/img/search-line.svg",alt:""}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputItems,expression:"inputItems"}],ref:"inputFocus",staticClass:"search-input active",attrs:{type:"search",placeholder:"Search Item"},domProps:{value:t.inputItems},on:{keyup:function(e){return t.fetchItems()},input:function(e){e.target.composing||(t.inputItems=e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"checkin set",staticStyle:{"margin-bottom":"0"}},[e("div",{staticClass:"select-holder set",staticStyle:{"margin-bottom":"0"}},[e("img",{staticClass:"caret-down",attrs:{src:"/img/caret-gray.svg",loading:"lazy",alt:""},on:{click:function(e){t.showCartList=!t.showCartList}}}),t._v(" "),e("h1",{staticClass:"div-block-140",on:{click:function(e){t.showCartList=!t.showCartList}}},[t._v("\n                "+t._s(t.salesPoint)+"\n              ")]),t._v(" "),t.showCartList?e("ul",{staticClass:"search-result-list select",attrs:{role:"list"}},t._l(t.salesPoints,(function(n,r){return e("li",{key:r,staticClass:"search-list",on:{click:function(e){return t.setSales(n)}}},[e("div",[t._v(t._s(n))])])})),0):t._e()])]),t._v(" "),e("div",{staticClass:"filter-holder"},[e("div",{staticClass:"each-filter table-light",on:{click:function(e){return t.sortItem("price")}}},[t._v("\n              Price\n              "),e("img",{staticClass:"order-arrow",attrs:{src:"/img/ascend_order.svg",loading:"lazy",alt:""}})]),t._v(" "),e("div",{staticClass:"each-filter table-light",on:{click:function(e){return t.sortItem("name")}}},[t._v("\n              Name\n              "),e("img",{staticClass:"order-arrow",attrs:{src:"/img/ascend_order.svg",loading:"lazy",alt:""}})]),t._v(" "),e("div",{staticClass:"select-holder"},[e("img",{staticClass:"caret-down",attrs:{src:"/img/white-caret-icon.svg",loading:"lazy",alt:""},on:{click:function(e){t.showingFilter=!t.showingFilter}}}),t._v(" "),e("h1",{staticClass:"div-block-140 colored",on:{click:function(e){t.showingFilter=!t.showingFilter}}},[t._v("\n                "+t._s(t.defaultFilter)+"\n              ")]),t._v(" "),e("ul",{staticClass:"search-result-list select",class:{hide:!t.showingFilter},staticStyle:{"z-index":"9999"},attrs:{role:"list"}},[e("li",{staticClass:"search-list",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.filter("All Items")}}},[e("div",[t._v("All Items")])]),t._v(" "),t._l(t.types(),(function(n,r){return e("li",{key:r,staticClass:"search-list",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.filter(n)}}},[e("div",[t._v(t._s(n))])])}))],2)])])]),t._v(" "),e("div",{staticClass:"table-flow"},[e("table",[t._m(1),t._v(" "),e("tbody",t._l(t.items,(function(n,i){return e("tr",{key:i},[e("td",{staticClass:"sn"},[t._v("\n                  "+t._s(i+1+4*(t.currentPage-1))+"\n                  "),e("div",{staticClass:"cart-action"},[e("div",{staticClass:"item-actions plus",on:{click:function(e){return t.addToStore(e,n)}}},[t._v("\n                      +\n                    ")]),t._v(" "),e("div",{staticClass:"item-actions minus",on:{click:function(e){return t.removeFromStore(e,n)}}},[t._v("\n                      -\n                    ")])])]),t._v(" "),e("td",{staticClass:"item-img"},[e("img",{attrs:{src:"".concat(t.URL,"/uploads/").concat(n.image),alt:""}})]),t._v(" "),e("td",[t._v(t._s(n.name))]),t._v(" "),e("td",[t._v(t._s(t.formatMoney(n.buyingPrice)))]),t._v(" "),e("td",[t._v(t._s(n.category))]),t._v(" "),e("td",[t._v(t._s(n.type))]),t._v(" "),e("td",[e("div",[t._v("\n                    "+t._s(n.remaining[0])+"\n                    "+t._s(t.pluralizeWord(n.storeInputUnit,n.remaining[0]))+"\n                  ")]),t._v(" "),n.storeInputUnit!=n.storeOutputUnit?e("div",[t._v("\n                    "+t._s(n.remaining[1])+"\n                    "+t._s(t.pluralizeWord(n.storeOutputUnit,n.remaining[1]))+"\n                  ")]):t._e()]),t._v(" "),e("td",[n.available.length>0?e("div",t._l(n.available,(function(data,r){return e("div",{key:r},[t._v("\n                      "+t._s(data.number)+"\n                      "+t._s(t.pluralizeWord(n.storeOutputUnit,data.number))+"\n                      at the\n                      "+t._s(data.salesPoint)+"\n                    ")])})),0):e("div",[t._v("Not Available")])])])})),0)])]),t._v(" "),e("div",{staticClass:"btn-holder"},[e("input",{staticClass:"custom-btn w-button",staticStyle:{"margin-right":"auto"},attrs:{type:"submit",value:"Reset Store","data-wait":"Please wait..."},on:{click:t.resetStore}})]),t._v(" "),e("div",{staticClass:"pagination"},[1!=t.currentPage?e("img",{staticClass:"pagination-arrow left",attrs:{src:"/img/left-nav.svg",loading:"lazy",alt:""},on:{click:function(e){return t.paginate(t.currentPage-1)}}}):t._e(),t._v(" "),e("ul",{staticClass:"page-list",attrs:{role:"list"}},t._l(t.pages(),(function(n,r){return e("li",{key:r,staticClass:"page-items",class:{active:t.currentPage==r+1},staticStyle:{cursor:"pointer"},on:{click:function(e){return t.paginate(r+1)}}},[e("div",[t._v(t._s(r+1))])])})),0),t._v(" "),t.currentPage<t.pages().length?e("img",{staticClass:"pagination-arrow",attrs:{src:"/img/left-nav.svg",loading:"lazy",alt:""},on:{click:function(e){return t.paginate(t.currentPage+1)}}}):t._e()]),t._v(" "),t.showResponseMsg?e("div",{staticClass:"message rooms",class:{success:0==t.error,error:1==t.error}},[t._v("\n          "+t._s(t.responseMsg)+"\n          "),e("span",{on:{click:function(e){t.showResponseMsg=!1}}},[t._v("X")])]):t._e()])],1)],1),t._v(" "),e("AdminFooter")],1)}),[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("td",[t._v("S/N")]),t._v(" "),e("td",[t._v("Item Name")]),t._v(" "),e("td",[t._v("Price")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("td",[t._v("S/N")]),t._v(" "),e("td",[t._v("Image")]),t._v(" "),e("td",[t._v("Item Name")]),t._v(" "),e("td",[t._v("Buying Price")]),t._v(" "),e("td",[t._v("Category")]),t._v(" "),e("td",[t._v("Type")]),t._v(" "),e("td",[t._v("Remaining")]),t._v(" "),e("td",[t._v("Availability")])])])}],!1,null,null,null);e.default=component.exports}}]);