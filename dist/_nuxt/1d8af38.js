(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{358:function(t,e,n){var content=n(375);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(160).default)("5ca4ec2a",content,!0,{sourceMap:!1})},359:function(t,e,n){var content=n(377);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(160).default)("82485924",content,!0,{sourceMap:!1})},362:function(t,e,n){var content=n(384);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(160).default)("a0ff242a",content,!0,{sourceMap:!1})},363:function(t,e,n){var content=n(386);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(160).default)("4e3902c2",content,!0,{sourceMap:!1})},371:function(t,e,n){"use strict";var o=n(3),r=n(372).start;o({target:"String",proto:!0,forced:n(373)},{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},372:function(t,e,n){var o=n(5),r=n(65),c=n(14),l=n(227),h=n(27),d=o(l),m=o("".slice),f=Math.ceil,v=function(t){return function(e,n,o){var l,v,_=c(h(e)),y=r(n),C=_.length,k=void 0===o?" ":c(o);return y<=C||""==k?_:((v=d(k,f((l=y-C)/k.length))).length>l&&(v=m(v,0,l)),t?_+v:v+_)}};t.exports={start:v(!1),end:v(!0)}},373:function(t,e,n){var o=n(47);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(o)},374:function(t,e,n){"use strict";n(358)},375:function(t,e,n){var o=n(159)(!1);o.push([t.i,".chat-return.end{margin-left:auto}.chat-return.end img.return-icon{width:17px}.chat-body{position:relative}.chat-prompt{display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5);position:sticky;top:0;left:0;width:100%;height:100%;z-index:99;transform:scale(0);transition:all .3s}.chat-prompt.active{transform:scale(1)}.prompt-box{background:#fff;padding:20px;flex-direction:column;border-radius:3px}.prompt-box,.prompt-box>div{display:flex;justify-content:center}.custom-btn.chat{color:#fff;margin:0 10px}.holder{width:100%}.chat-header{position:relative}",""]),t.exports=o},376:function(t,e,n){"use strict";n(359)},377:function(t,e,n){var o=n(159)(!1);o.push([t.i,".select-holder.rooms{width:150px;margin:5px auto}",""]),t.exports=o},383:function(t,e,n){"use strict";n(362)},384:function(t,e,n){var o=n(159)(!1);o.push([t.i,'.filter-holder{display:flex;margin-left:auto;align-items:center}.each-filter{cursor:pointer}td.item-img.food{overflow:hidden;min-width:100px;width:120px;height:70px}td.item-img.food img{-o-object-fit:cover;object-fit:cover;min-width:100%;min-height:100%}label.checkin{color:#333;font-weight:400;cursor:pointer}.comp{color:#717171}.search-result-list.select{min-width:100px;z-index:99}.search-result-list li{cursor:pointer}.table-flow{width:100%;overflow-x:auto;position:relative;padding:5px 5px 20px}.table-flow table{position:relative;width:100%;min-width:700px;border-radius:5px;color:#717171;font-family:"Gilda Display, sans-serif"}table thead{background:#f4f4f4}thead td{padding:10px;font-size:16px}tbody tr{border-bottom:1px solid #eaeaea}tbody td{font-size:14px;padding:10px}td img{cursor:pointer;width:14px;margin:3px}',""]),t.exports=o},385:function(t,e,n){"use strict";n(363)},386:function(t,e,n){var o=n(159)(!1);o.push([t.i,".item-actions.minus{font-size:18px}.item-actions.active{border:1px solid #c69958;color:#c69958}.checkin-label span{color:#c69958;font-size:14px}label.checkin{color:#333;font-weight:400;cursor:pointer}.comp{color:#717171}.search-result-list li{cursor:pointer}",""]),t.exports=o},387:function(t,e,n){"use strict";n(46),n(17),n(36),n(24);var o=n(0),r=(n(11),n(37),n(25),n(62),n(100),n(368),n(225),n(340)),c=n(81),l=n(82),h=function(){function t(e,n,o,r,l,h,d){Object(c.a)(this,t),this.foodPicture=!1,this.name=!1,this.type=!1,this.storage=!1,this.components=!1,this.category=!1,this.price=!1,this.foodPicture=e,this.foodName=n,this.foodType=o,this.foodStorage=r,this.foodComponents=l,this.foodCategory=h,this.foodPrice=d}return Object(l.a)(t,[{key:"validatePicture",value:function(){return""==this.foodPicture||null==this.foodPicture?this.picture=!1:this.picture=!0,this}},{key:"validateName",value:function(){return""==this.foodName||null==this.foodName?this.name=!1:this.name=!0,this}},{key:"validateType",value:function(){return""==this.foodType||null==this.foodType?this.type=!1:this.type=!0,this}},{key:"validateStorage",value:function(){return""==this.foodStorage||null==this.foodStorage?this.storage=!1:this.storage=!0,this}},{key:"validateComponents",value:function(){return""==this.foodComponents||this.foodComponents.length<1?this.components=!1:this.components=!0,this}},{key:"validateCategory",value:function(){return""==this.foodCategory||this.foodCategory.length<1?this.category=!1:this.category=!0,this}},{key:"validatePrice",value:function(){return""==this.foodPrice||0==this.foodPrice?this.price=!1:this.price=!0,this}},{key:"checkErrors",value:function(){return this.picture?this.name?this.type?this.storage?this.components?this.category?this.price?"success":"Please fill in the food price.":"Please fill in the drink category.":"Please fill in the food components.":"Please fill in the food storage.":"Please fill in the food type.":"Please fill in the food name.":"Please insert a picture for this food"}}]),t}(),d={data:function(){return{showList:!1,foodType:["Single","Combination"],currentType:"Combination",portionList:!1,portionType:["Portion","Plate"],currentPortion:"Portion",components:[],component:"",foodPicture:"",category:"",name:"",price:"",foodArr:[],foodLength:"",currentPage:1,limit:4,sort:"price",sortSign:"-",field:"All Food",pages:function(){for(var t=[],e=Math.ceil(this.foodLength/this.limit),i=0;i<e;i++)t.push("i");return t},showingFilter:!1,defaultFilter:"All Food",foodFilter:["Soup","Chew","Rice"],responseMsg:"",showResponseMsg:!1,error:!0,editingState:!1,eiditingId:""}},methods:{showOverlay:function(t,e,n,o){this.$store.commit("SHOW_OVERLAY",{action:t,id:e,message:n,item:o})},paginate:function(t){this.currentPage=t,this.getAllFood()},setType:function(t){this.currentType=t,this.showList=!this.showList},setPortion:function(t){this.currentPortion=t,this.portionList=!this.portionList},addComponent:function(){this.components.push(this.component),this.component=""},setPicture:function(t){this.foodPicture=t.target.files[0]},clearInputs:function(){this.editingState=!1,this.eiditingId="",this.foodPicture="",this.name="",this.components=[],this.price="",this.category="Soup"},callResponseMsg:function(t,e,n){this.responseMsg=t,this.showResponseMsg=e,this.error=n},setEditFood:function(t){this.editingState=!0,this.eiditingId=t._id,this.name=t.name,this.currentType=t.type,this.currentPortion=t.storage,this.components=t.components,this.price=t.price,this.foodPicture=t.picture,this.category=t.category},processFood:function(){var t=new h(this.foodPicture,this.name,this.currentType,this.currentPortion,this.components,this.category,this.price).validatePicture().validateName().validateType().validateStorage().validateComponents().validateCategory().validatePrice().checkErrors();if("success"!=t)this.showResponseMsg=!0,this.error=!0,this.responseMsg=t;else{this.showResponseMsg=!1;var form=new FormData,e=[];form.append("name",this.name),form.append("price",this.price),form.append("type",this.currentType),form.append("storage",this.currentPortion),this.components.forEach((function(t){e.push(t)})),form.append("components",e),form.append("category",this.category),form.append("foodPicture",this.foodPicture),1==this.editingState?this.updateFood(form):this.createFood(form)}},formatMoney:function(t){return"N"+t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},filter:function(t){this.defaultFilter=t,this.field=t,this.showingFilter=!this.showingFilter,this.getAllFood()},sortItem:function(t){var e=(-1*Number("".concat(this.sortSign,"1"))).toString().split("")[0];"1"==e&&(e=""),this.sortSign=e,this.sort="".concat(this.sortSign).concat(t),this.getAllFood()},updateFood:function(form){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.eiditingId,e.next=3,t.$store.dispatch("food/UPDATE_FOOD",{id:n,form:form});case 3:200==(o=e.sent).status?(t.callResponseMsg("The food is updated successfully.",!0,!1),t.clearInputs(),t.getAllFood()):console.log(o);case 5:case"end":return e.stop()}}),e)})))()},createFood:function(form){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("food/CREATE_FOOD",form);case 2:200==(n=e.sent).status?(t.callResponseMsg("The food is created successfully.",!0,!1),t.clearInputs(),t.getAllFood()):console.log(n);case 4:case"end":return e.stop()}}),e)})))()},getAllFood:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,filter,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="?sort=".concat(t.sort,"&limit=").concat(t.limit,"&page=").concat(t.currentPage),filter="category=".concat(t.field),"All Food"!=t.field&&(n="?sort=".concat(t.sort,"&limit=").concat(t.limit,"&page=").concat(t.currentPage,"&").concat(filter)),e.prev=3,e.next=6,t.$axios.get("/food/".concat(n));case 6:o=e.sent,t.foodArr=o.data.data,t.foodLength=o.data.resultLength,e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",e.t0.response.data.message);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))()},deleteFood:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch("food/DELETE_FOOD",t);case 2:200==(o=n.sent).status?e.getAllFood():console.log(o);case 4:case"end":return n.stop()}}),n)})))()}},computed:{URL:function(){return this.$store.state.API_URL},getUser:function(){return this.$store.getters.getUserInfo}},mounted:function(){this.getAllFood()},components:{ConfirmAction:r.a}},m=(n(383),n(61)),component=Object(m.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"each-panel full"},[e("ConfirmAction",{on:{deleteFood:function(e){return t.deleteFood(e)}}}),t._v(" "),e("h1",{staticClass:"panel-head"},[t._v("Food Settings")]),t._v(" "),e("div",{staticClass:"table-line left-align"},[e("div",{staticClass:"text-block-9 auto"},[t._v("Details")]),t._v(" "),e("div",{staticClass:"table-light"},[t._v("Result: "+t._s(t.foodLength))]),t._v(" "),e("div",{staticClass:"table-light"},[t._v("\n      Page "+t._s(t.currentPage)+" of "+t._s(t.pages().length)+"\n    ")]),t._v(" "),e("div",{staticClass:"filter-holder"},[e("div",{staticClass:"each-filter table-light",on:{click:function(e){return t.sortItem("price")}}},[t._v("\n        Price\n        "),e("img",{staticClass:"order-arrow",attrs:{src:"/img/ascend_order.svg",loading:"lazy",alt:""}})]),t._v(" "),e("div",{staticClass:"each-filter table-light",on:{click:function(e){return t.sortItem("name")}}},[t._v("\n        Name\n        "),e("img",{staticClass:"order-arrow",attrs:{src:"/img/ascend_order.svg",loading:"lazy",alt:""}})]),t._v(" "),e("div",{staticClass:"each-filter table-light",on:{click:function(e){return t.sortItem("category")}}},[t._v("\n        Category\n        "),e("img",{staticClass:"order-arrow",attrs:{src:"/img/ascend_order.svg",loading:"lazy",alt:""}})]),t._v(" "),e("div",{staticClass:"select-holder"},[e("img",{staticClass:"caret-down",attrs:{src:"/img/white-caret-icon.svg",loading:"lazy",alt:""},on:{click:function(e){t.showingFilter=!t.showingFilter}}}),t._v(" "),e("h1",{staticClass:"div-block-140 colored",on:{click:function(e){t.showingFilter=!t.showingFilter}}},[t._v("\n          "+t._s(t.defaultFilter)+"\n        ")]),t._v(" "),e("ul",{staticClass:"search-result-list select",class:{hide:!t.showingFilter},staticStyle:{"z-index":"9999"},attrs:{role:"list"}},[e("li",{staticClass:"search-list",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.filter("All Food")}}},[e("div",[t._v("All Food")])]),t._v(" "),t._l(t.foodFilter,(function(n,o){return e("li",{key:o,staticClass:"search-list",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.filter(n)}}},[e("div",[t._v(t._s(n))])])}))],2)])])]),t._v(" "),e("div",{staticClass:"table-flow"},[e("table",[t._m(0),t._v(" "),e("tbody",t._l(t.foodArr,(function(n,i){return e("tr",{key:i},[e("td",[t._v(t._s(i+1))]),t._v(" "),e("td",{staticClass:"item-img food"},[e("img",{attrs:{src:"".concat(t.URL,"/uploads/").concat(n.picture),alt:""}})]),t._v(" "),e("td",[t._v(t._s(n.name))]),t._v(" "),e("td",[t._v(t._s(n.type))]),t._v(" "),e("td",[t._v(t._s(n.storage))]),t._v(" "),e("td",t._l(n.components,(function(n,o){return e("div",{key:o,staticClass:"combo"},[t._v("\n              "+t._s(n)+"\n            ")])})),0),t._v(" "),e("td",[t._v(t._s(n.category))]),t._v(" "),e("td",[t._v(t._s(t.formatMoney(n.price)))]),t._v(" "),e("td",[e("img",{attrs:{src:"/img/edit-box-icon.svg",loading:"lazy",alt:""},on:{click:function(e){return t.setEditFood(n)}}}),t._v(" "),e("img",{attrs:{src:"/img/trash-bin-icon.svg",alt:""},on:{click:function(e){return t.showOverlay("delete",n._id,"Are you sure you want to delete this food?","food")}}})])])})),0)])]),t._v(" "),e("div",{staticClass:"pagination"},[1!=t.currentPage?e("img",{staticClass:"pagination-arrow left",attrs:{src:"/img/left-nav.svg",loading:"lazy",alt:""},on:{click:function(e){return t.paginate(t.currentPage-1)}}}):t._e(),t._v(" "),e("ul",{staticClass:"page-list",attrs:{role:"list"}},t._l(t.pages(),(function(n,o){return e("li",{key:o,staticClass:"page-items",class:{active:t.currentPage==o+1},staticStyle:{cursor:"pointer"},on:{click:function(e){return t.paginate(o+1)}}},[e("div",[t._v(t._s(o+1))])])})),0),t._v(" "),t.currentPage<t.pages().length?e("img",{staticClass:"pagination-arrow",attrs:{src:"/img/left-nav.svg",loading:"lazy",alt:""},on:{click:function(e){return t.paginate(t.currentPage+1)}}}):t._e()]),t._v(" "),"staff"==t.getUser.status?e("div",[t.showResponseMsg?e("div",{staticClass:"message rooms",class:{success:0==t.error,error:1==t.error}},[t._v("\n      "+t._s(t.responseMsg)+"\n      "),e("span",{on:{click:function(e){t.showResponseMsg=!1}}},[t._v("X")])]):t._e(),t._v(" "),e("div",{staticClass:"settings-block w-form"},[e("div",{staticClass:"settings-form",attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.processFood.apply(null,arguments)}}},[e("div",{staticClass:"checkin set"},[e("div",{staticClass:"checkin-label"},[t._v("Image")]),t._v(" "),e("label",{staticClass:"checkin set check-date w-input",attrs:{for:"food-img"}},[t._v("\n            Insert Picture\n            "),e("input",{staticStyle:{width:"0.1px",height:"0.1px"},attrs:{type:"file",placeholder:"Today",id:"food-img",required:""},on:{change:function(e){return t.setPicture(e)}}})])]),t._v(" "),e("div",{staticClass:"checkin set"},[e("div",{staticClass:"checkin-label"},[t._v("Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"check-date w-input",attrs:{type:"text",placeholder:"Food Name",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"checkin set"},[e("div",{staticClass:"checkin-label"},[t._v("Type")]),t._v(" "),e("div",{staticClass:"select-holder set"},[e("img",{staticClass:"caret-down",attrs:{src:"https://uploads-ssl.webflow.com/62dec850062ac34180b54f5c/6368707aa0291905c49ab85b_caret-down.svg",loading:"lazy",alt:""}}),t._v(" "),e("h1",{staticClass:"div-block-140",on:{click:function(e){t.showList=!t.showList}}},[t._v("\n              "+t._s(t.currentType)+"\n            ")]),t._v(" "),t.showList?e("ul",{staticClass:"search-result-list select",attrs:{role:"list"}},t._l(t.foodType,(function(n,o){return e("li",{key:o,staticClass:"search-list",on:{click:function(e){return t.setType(n)}}},[e("div",[t._v(t._s(n))])])})),0):t._e()])]),t._v(" "),e("div",{staticClass:"checkin set"},[e("div",{staticClass:"checkin-label"},[t._v("Storage")]),t._v(" "),e("div",{staticClass:"select-holder set"},[e("img",{staticClass:"caret-down",attrs:{src:"https://uploads-ssl.webflow.com/62dec850062ac34180b54f5c/6368707aa0291905c49ab85b_caret-down.svg",loading:"lazy",alt:""},on:{click:function(e){t.portionList=!t.portionList}}}),t._v(" "),e("h1",{staticClass:"div-block-140",on:{click:function(e){t.portionList=!t.portionList}}},[t._v("\n              "+t._s(t.currentPortion)+"\n            ")]),t._v(" "),t.portionList?e("ul",{staticClass:"search-result-list select",attrs:{role:"list"}},t._l(t.portionType,(function(n,o){return e("li",{key:o,staticClass:"search-list",on:{click:function(e){return t.setPortion(n)}}},[e("div",[t._v(t._s(n))])])})),0):t._e()])]),t._v(" "),e("div",{staticClass:"checkin set"},[t._l(t.components,(function(n,i){return e("div",{key:i,staticClass:"comp"},[t._v("\n            "+t._s(n)+"\n          ")])})),t._v(" "),e("div",{staticClass:"checkin-label"},[t._v("Food Components")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.component,expression:"component"}],staticClass:"check-date w-input",attrs:{type:"text",placeholder:"Write Components",id:"stock-export-3",required:""},domProps:{value:t.component},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addComponent.apply(null,arguments)},input:function(e){e.target.composing||(t.component=e.target.value)}}})],2),t._v(" "),e("div",{staticClass:"checkin set"},[e("div",{staticClass:"checkin-label"},[t._v("Category")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"check-date w-input",attrs:{type:"text",placeholder:"Soup",required:""},domProps:{value:t.category},on:{input:function(e){e.target.composing||(t.category=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"checkin set"},[e("div",{staticClass:"checkin-label"},[t._v("Price")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"check-date w-input",attrs:{type:"number",placeholder:"4000",id:"stock-export-3",required:""},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"btn-holder"},[e("input",{staticClass:"custom-btn w-button",attrs:{type:"submit",value:"Submit","data-wait":"Please wait..."},on:{click:t.processFood}}),t._v(" "),e("input",{staticClass:"custom-btn w-button",attrs:{type:"submit",value:"Cancel","data-wait":"Please wait..."},on:{click:t.clearInputs}})])])])]):t._e()],1)}),[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("td",[t._v("S/N")]),t._v(" "),e("td",[t._v("Image")]),t._v(" "),e("td",[t._v("Food Name")]),t._v(" "),e("td",[t._v("Type")]),t._v(" "),e("td",[t._v("Storage")]),t._v(" "),e("td",[t._v("Components")]),t._v(" "),e("td",[t._v("Category")]),t._v(" "),e("td",[t._v("Price")]),t._v(" "),e("td",[t._v("Action")])])])}],!1,null,null,null);e.a=component.exports},388:function(t,e,n){"use strict";n(24);var o=n(0),r=(n(11),n(126),n(52),n(63),n(17),n(37),n(36),n(225),n(340)),c=n(81),l=n(82),h=function(){function t(picture,e,n,o,r){Object(c.a)(this,t),this.picture=!1,this.name=!1,this.category=!1,this.type=!1,this.sales=!1,this.itemPicture=picture,this.itemName=e,this.itemCategory=n,this.itemType=o,this.itemSales=r}return Object(l.a)(t,[{key:"validatePicture",value:function(){return""==this.itemPicture||null==this.itemPicture?this.picture=!1:this.picture=!0,this}},{key:"validateName",value:function(){return""==this.itemName||null==this.itemName?this.name=!1:this.name=!0,this}},{key:"validateCategory",value:function(){return""==this.itemCategory||"Select"==this.itemCategory?this.category=!1:this.category=!0,this}},{key:"validateType",value:function(){return""==this.itemType||"Select"==this.itemType?this.type=!1:this.type=!0,this}},{key:"validateSalesPoint",value:function(){return this.itemSales.length>0?this.sales=!1:this.sales=!0,this}},{key:"checkErrors",value:function(){return this.picture?this.name?this.category?this.type?this.sales?"success":"Please select sales point":"Please fill in the item type.":"Please fill in the item category.":"Please fill in the item name.":"Please insert a picture for this item"}}]),t}(),d=n(393),m={data:function(){return{showCategoryList:!1,categories:["Water","Soft","Alcohol","Juice","Wine","Swallow","Eaty","Chewy","Usable"],types:["Food","Drink","Usable"],sales:"",image:"",name:"",category:"Select",type:"Select",buyingPrice:0,price:"",storeInputUnit:"",storeOutputUnit:"",storeOutputPerInput:0,sellingUnit:"",salesPoint:[],outputPerInput:0,showTypeList:!1,showSalesList:!1,showInput:!1,routeName:"",names:[],units:[],responseMsg:"",showResponseMsg:!1,error:!0,editingState:!1,eiditingId:""}},methods:{checkUserStatus:function(){return"Manager"==this.user.staffType||"Restaurant"==this.user.staffType},setCategory:function(t){this.category=t,this.showCategoryList=!this.showCategoryList},setType:function(t){this.type=t,this.showTypeList=!this.showTypeList},removeSale:function(t){this.salesPoint.splice(t,1)},addSale:function(){""==this.sales||this.salesPoint.includes(this.sales)||(this.salesPoint.push(this.sales),this.sales="")},setSales:function(t){this.sales=t,this.showSalesList=!this.showSalesList},setStorage:function(t){this.store=t,this.storageList=!this.storageList},checkRoute:function(){this.routeName=this.$route.name},setImage:function(t){this.image=t.target.files[0]},clearInputs:function(){this.editingState=!1,this.eiditingId="",this.picture="",this.name="",this.buyingPrice="",this.price="",this.sellingUnit="",this.storeOutputUnit="",this.storeInputUnit="",this.storeOutputPerInput="",this.sales="",this.salesPoint=[],this.category="Select",this.type="Select"},callResponseMsg:function(t,e,n){this.responseMsg=t,this.showResponseMsg=e,this.error=n},setEditItem:function(t){this.editingState=!0,this.eiditingId=t._id,this.image=t.image,this.name=t.name,this.category=t.category,this.type=t.type,this.buyingPrice=""==t.buyingPrice?0:t.buyingPrice,this.price=t.price,this.storeInputUnit=t.storeInputUnit,this.storeOutputUnit=t.storeOutputUnit,this.storeOutputPerInput=""==t.storeOutputPerInput?0:t.storeOutputPerInput,this.sellingUnit=t.sellingUnit,this.salesPoint=t.salesPoint},processItem:function(){var t=new h(this.image,this.name,this.category,this.type,this.sales).validatePicture().validateName().validateCategory().validateType().validateSalesPoint().checkErrors();if("success"!=t)this.callResponseMsg(t,!0,!0);else{this.showResponseMsg=!1;var form=new FormData;form.append("name",this.name),form.append("image",this.image),form.append("category",this.category),form.append("type",this.type),form.append("buyingPrice",this.buyingPrice),form.append("price",this.price),form.append("storeInputUnit",this.storeInputUnit),form.append("storeOutputUnit",this.storeOutputUnit),form.append("storeOutputPerInput",this.storeOutputPerInput),form.append("sellingUnit",this.sellingUnit),this.salesPoint.forEach((function(t){form.append("salesPoint",t)})),1==this.editingState?this.updateItem(form):this.createItem(form)}},notifyTable:function(data){this.$store.commit("item/NOTIFY_TABLE",data)},updateItem:function(form){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.eiditingId,e.next=3,t.$store.dispatch("item/UPDATE_ITEM",{id:n,form:form});case 3:200==(o=e.sent).status?(t.callResponseMsg("The food is updated successfully.",!0,!1),t.clearInputs(),t.notifyTable("updated")):(console.log(o),t.callResponseMsg(o,!0,!0));case 5:case"end":return e.stop()}}),e)})))()},createItem:function(form){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("item/CREATE_ITEM",form);case 2:200==(n=e.sent).status?(t.callResponseMsg("The item is created successfully.",!0,!1),t.clearInputs(),t.notifyTable("created")):console.log(n.response.data);case 4:case"end":return e.stop()}}),e)})))()},getAllItems:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var filter,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return filter="admin-order"==t.$route.name?"type[ne]=Usable":"","All Items"!=t.field&&(filter="type=".concat(t.field)),n="?sort=".concat(t.sort,"&limit=").concat(t.limit,"&page=").concat(t.currentPage,"&").concat(filter),e.prev=3,e.next=6,t.$axios.get("/items/".concat(n));case 6:o=e.sent,t.items=o.data.data,t.itemLength=o.data.resultLength,e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",e.t0.response.data.message);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))()},deleteDrink:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch("drink/DELETE_DRINK",t);case 2:200==(o=n.sent).status?e.getAllItems():console.log(o);case 4:case"end":return n.stop()}}),n)})))()}},computed:{URL:function(){return this.$store.state.API_URL},user:function(){return this.$store.getters.getUserInfo}},mounted:function(){var t=this;this.checkRoute(),this.getAllItems(),this.socket=this.$nuxtSocket({}),this.socket.on("fetchedItems",(function(data,e){t.items=data,t.itemLength=data.length})),this.socket.on("createdOrder",(function(data,e){t.callResponseMsg("The order is created successfully.",!0,!1)}))},components:{ConfirmAction:r.a,AdminItems:d.a}},f=(n(385),n(61)),component=Object(f.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"each-panel full"},[e("AdminItems",{on:{editItem:t.setEditItem}}),t._v(" "),"admin-settings"==t.routeName?e("div",{staticClass:"settings-block w-form"},[e("div",{staticClass:"settings-form",attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.processItem.apply(null,arguments)}}},[e("div",{staticClass:"checkin set"},[t._m(0),t._v(" "),e("label",{staticClass:"checkin set check-date w-input",attrs:{for:"drink-img"}},[t._v("\n          Insert Picture\n          "),e("input",{staticStyle:{width:"0.1px",height:"0.1px"},attrs:{type:"file",id:"drink-img",required:""},on:{change:function(e){return t.setImage(e)}}})])]),t._v(" "),e("div",{staticClass:"checkin set"},[t._m(1),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"check-date w-input",attrs:{type:"text",placeholder:"Drink Name",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"checkin set"},[t._m(2),t._v(" "),e("div",{staticClass:"select-holder set"},[e("img",{staticClass:"caret-down",attrs:{src:"/img/caret-gray.svg",loading:"lazy",alt:""}}),t._v(" "),e("h1",{staticClass:"div-block-140",on:{click:function(e){t.showCategoryList=!t.showCategoryList}}},[t._v("\n            "+t._s(t.category)+"\n          ")]),t._v(" "),t.showCategoryList?e("ul",{staticClass:"search-result-list select",attrs:{role:"list"}},t._l(t.categories,(function(n,o){return e("li",{key:o,staticClass:"search-list",on:{click:function(e){return t.setCategory(n)}}},[e("div",[t._v(t._s(n))])])})),0):t._e()])]),t._v(" "),e("div",{staticClass:"checkin set"},[t._m(3),t._v(" "),e("div",{staticClass:"select-holder set"},[e("img",{staticClass:"caret-down",attrs:{src:"/img/caret-gray.svg",loading:"lazy",alt:""}}),t._v(" "),e("h1",{staticClass:"div-block-140",on:{click:function(e){t.showTypeList=!t.showTypeList}}},[t._v("\n            "+t._s(t.type)+"\n          ")]),t._v(" "),t.showTypeList?e("ul",{staticClass:"search-result-list select",attrs:{role:"list"}},t._l(t.types,(function(n,o){return e("li",{key:o,staticClass:"search-list",on:{click:function(e){return t.setType(n)}}},[e("div",[t._v(t._s(n))])])})),0):t._e()])]),t._v(" "),e("div",{staticClass:"checkin set"},[e("div",{staticClass:"checkin-label"},[t._v("Buying Price")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.buyingPrice,expression:"buyingPrice"}],staticClass:"check-date w-input",attrs:{type:"number",placeholder:"4000",name:"price",required:""},domProps:{value:t.buyingPrice},on:{input:function(e){e.target.composing||(t.buyingPrice=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"checkin set"},[e("div",{staticClass:"checkin-label"},[t._v("Selling Price")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"check-date w-input",attrs:{type:"number",placeholder:"4000",name:"price",required:""},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"checkin set"},[e("div",{staticClass:"checkin-label"},[t._v("Store Input Unit")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.storeInputUnit,expression:"storeInputUnit"}],staticClass:"check-date w-input",attrs:{type:"text",placeholder:"Input Unit",name:"unit",required:""},domProps:{value:t.storeInputUnit},on:{input:function(e){e.target.composing||(t.storeInputUnit=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"checkin set"},[e("div",{staticClass:"checkin-label"},[t._v("Store Output Unit")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.storeOutputUnit,expression:"storeOutputUnit"}],staticClass:"check-date w-input",attrs:{type:"text",placeholder:"Output Unit",name:"unit",required:""},domProps:{value:t.storeOutputUnit},on:{input:function(e){e.target.composing||(t.storeOutputUnit=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"checkin set"},[e("div",{staticClass:"checkin-label"},[t._v("Store Output / Input")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.storeOutputPerInput,expression:"storeOutputPerInput"}],staticClass:"check-date w-input",attrs:{type:"number",placeholder:"5",id:"stock-export-2",required:""},domProps:{value:t.storeOutputPerInput},on:{input:function(e){e.target.composing||(t.storeOutputPerInput=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"checkin set"},[e("div",{staticClass:"checkin-label"},[t._v("Selling Unit")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sellingUnit,expression:"sellingUnit"}],staticClass:"check-date w-input",attrs:{type:"text",placeholder:"Selling Unit",id:"stock-export-2",required:""},domProps:{value:t.sellingUnit},on:{input:function(e){e.target.composing||(t.sellingUnit=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"checkin set"},[t.salesPoint.length>0?e("ul",{staticClass:"vision-list",attrs:{role:"list"}},t._l(t.salesPoint,(function(n,i){return e("li",{key:i,staticClass:"each-vision"},[e("img",{staticClass:"vision-icon trash",attrs:{src:"/img/trash-bin-icon.svg",loading:"lazy",alt:""},on:{click:function(e){return t.removeSale(i)}}}),t._v(" "),e("div",{staticClass:"vision-text"},[t._v("\n              "+t._s(n)+"\n            ")])])})),0):t._e(),t._v(" "),t._m(4),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sales,expression:"sales"}],staticClass:"check-date w-input",attrs:{type:"text",placeholder:"Write and press Enter"},domProps:{value:t.sales},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addSale.apply(null,arguments)},input:function(e){e.target.composing||(t.sales=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"btn-holder"},["admin-settings"==t.routeName?e("input",{staticClass:"custom-btn w-button",attrs:{type:"submit",value:"Submit","data-wait":"Please wait..."},on:{click:function(e){return t.processItem()}}}):t._e(),t._v(" "),e("input",{staticClass:"custom-btn w-button",attrs:{type:"submit",value:"Cancel","data-wait":"Please wait..."},on:{click:t.clearInputs}})])])]):t._e()],1)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"checkin-label"},[t._v("Image "),e("span",[t._v("*")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"checkin-label"},[t._v("Name "),e("span",[t._v("*")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"checkin-label"},[t._v("Category "),e("span",[t._v("*")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"checkin-label"},[t._v("Type "),e("span",[t._v("*")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"checkin-label"},[t._v("Sales Point "),e("span",[t._v("*")])])}],!1,null,null,null);e.a=component.exports},390:function(t,e,n){"use strict";n(24),n(36),n(83),n(52),n(63);var o={data:function(){return{message:"",sentMessages:[]}},computed:{userInfo:function(){return this.$store.getters.getUserInfo},checkScroll:function(){return this.$store.state.chat.scrollDown},chatMessages:function(){return this.$store.state.chat.chatMessages},showPrompt:function(){return this.$store.state.chat.showPrompt},rooms:function(){return this.$store.state.chat.rooms},services:function(){return this.$store.state.chat.services},chatState:function(){return this.$store.state.chat.chatState},currentChatPartner:function(){return this.$store.state.chat.currentChatPartner},activeRoom:function(){return this.$store.state.chat.activeRoom},routeName:function(){return this.$route.name}},methods:{formatAMPM:function(t){var e=t.getHours(),n=t.getMinutes(),o=e>=12?"pm":"am";return(e=(e%=12)||12)+":"+(n=n<10?"0"+n:n)+" "+o},hideChat:function(){this.$store.commit("chat/HIDE_CHAT")},showPromptBox:function(){this.$store.commit("chat/SHOW_PROMPT")},toggleShowPrompt:function(){this.$store.commit("chat/TOGGLE_PROMPT")},endChat:function(){this.socket.emit("endChat",this.chatMessages._id),this.hideChat()},cancelPrompt:function(){this.$store.commit("chat/HIDE_PROMPT")},processMessage:function(){var t=new Date,time=this.formatAMPM(t),e="".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear()),data={members:"User"==this.userInfo.status?[this.userInfo.activeRoom,this.currentChatPartner]:[this.activeRoom,this.userInfo.staffType],date:e,messages:{username:this.userInfo.username,time:time,message:this.message}};this.sendMessage(data)},sendMessage:function(data){this.socket.emit("sendMessage",data),this.message=""},scrollDown:function(){var t=document.querySelector(".chat-body");null!=t&&(t.scrollTop=t.scrollHeight)},refreshRooms:function(){"Staff"==this.userInfo.status&&this.socket.emit("getRooms",this.userInfo.staffType),"User"==this.userInfo.status&&this.socket.emit("getOffices",this.userInfo.activeRoom)}},mounted:function(){var t=this;this.socket=this.$nuxtSocket({}),this.scrollDown(),this.$watch("checkScroll",(function(a,b){t.scrollDown()})),this.socket.on("roomMessages",(function(e,n){t.refreshRooms(),t.scrollDown()}));var e=function(){document.getElementById("messageSound").innerHTML="<audio autoplay=\"autoplay\"><source src='/sound/sweet.wav' type='audio/mpeg'></audio>"},n=this.userInfo;this.socket.on("receivedMessage",(function(o,r){"Staff"==n.status?n.staffType==o.members[1]&&t.activeRoom==o.members[0]&&t.$store.commit("chat/ADD_MESSAGE",o):n.activeRoom==o.members[0]&&t.currentChatPartner==o.members[1]&&t.$store.commit("chat/ADD_MESSAGE",o),setTimeout((function(){var t=document.querySelector(".chat-body");null!=t&&(t.scrollTop=t.scrollHeight)}),5),"Staff"==n.status?n.username!=o.messages.username&&o.members.includes(n.staffType)&&(e(),t.refreshRooms()):"User"==n.status&&n.username!=o.messages.username&&o.members.includes(n.activeRoom)&&(e(),t.refreshRooms())})),this.socket.on("receivedAutoMessage",(function(t,o){n.activeRoom!=t.members[0]&&n.staffType!=t.members[1]||e()})),this.socket.on("chatEnded",(function(e,o){t.refreshRooms();var r=function(){t.$store.commit("chat/RESET_MESSAGE",e),t.hideChat()};"Staff"==n.status?n.staffType==e.members[1]&&t.activeRoom==e.members[0]&&r():n.activeRoom==e.members[0]&&t.currentChatPartner==e.members[1]&&r()}))}},r=(n(374),n(61)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return t.chatState?e("div",{staticClass:"each-panel full chat"},[e("div",{staticClass:"chat-header"},[e("div",{staticClass:"chat-return",on:{click:t.hideChat}},[e("img",{staticClass:"return-icon",attrs:{src:"/img/back-icon.svg",loading:"lazy",alt:""}})]),t._v(" "),"admin-order"==t.routeName?e("h1",{staticClass:"chat-title"},[t._v("\n      Chat with "+t._s(t.currentChatPartner)+"\n    ")]):"admin-sales"==t.routeName?e("h1",{staticClass:"chat-title"},[t._v("\n      Chat with Room "+t._s(t.activeRoom)+",\n    ")]):t._e(),t._v(" "),t.chatMessages?e("div",{staticClass:"chat-return end",on:{click:t.toggleShowPrompt}},[e("img",{staticClass:"return-icon",attrs:{src:"/img/close.svg",loading:"lazy",alt:""}})]):t._e()]),t._v(" "),e("div",{staticClass:"chat-body"},[e("div",{staticClass:"chat-prompt",class:{active:t.showPrompt}},[e("div",{staticClass:"prompt-box"},[e("h2",{staticClass:"panel-head"},[t._v("End This Chat")]),t._v(" "),e("div",[e("button",{staticClass:"custom-btn chat",on:{click:t.endChat}},[t._v("Yes")]),t._v(" "),e("button",{staticClass:"custom-btn chat",on:{click:t.cancelPrompt}},[t._v("No")])])])]),t._v(" "),t.chatMessages?e("div",t._l(t.chatMessages.messages,(function(n,i){return e("div",{key:i,staticClass:"each-chat-day"},[e("div",{staticClass:"custom-btn date"},[t._v(t._s(n.date))]),t._v(" "),e("ul",{staticClass:"each-chat-list",attrs:{role:"list"}},t._l(n.dailyMessages,(function(n,o){return e("li",{key:o,staticClass:"chat-msg",class:{first:n.username==t.userInfo.username,second:n.username!=t.userInfo.username}},[e("div",{staticClass:"chat-msg-main",class:{light:n.username==t.userInfo.username}},[t._v("\n              "+t._s(n.message)+"\n            ")]),t._v(" "),e("div",{staticClass:"chat-time"},[t._v(t._s(n.time))])])})),0)])})),0):t._e()]),t._v(" "),e("div",{staticClass:"chat-footer w-form"},[e("form",{staticClass:"chat-form",attrs:{method:"get"}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"chat-input w-input",attrs:{placeholder:"Enter message",maxlength:"5000",required:""},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),e("img",{staticClass:"send-msg",attrs:{src:"/img/white-send-icon.svg",loading:"lazy",alt:""},on:{click:t.processMessage}})])])]):t._e()}),[],!1,null,null,null);e.a=component.exports},391:function(t,e,n){"use strict";var o=n(0),r=(n(11),n(17),n(37),n(52),n(24),n(36),{data:function(){return{rooms:"",showRooms:!1,defaultRoom:"Select Room",roomsArray:[],hotel:"",showOffice:!1,defaultOffice:"Select Office",officeArray:[],salesPoints:[]}},computed:{userInfo:function(){return this.$store.getters.getUserInfo},offices:function(){var t=[],e=["CEO","Manager","User"];return this.hotel&&this.hotel.salesPoints.forEach((function(n){e.includes(n)||t.push(n)})),t},bookedRooms:function(){var t=[];return this.roomsArray.forEach((function(e){e.isBooked&&t.push(e)})),t},chatMessages:function(){return this.$store.state.chat.chatMessages},chatState:function(){return this.$store.state.chat.chatState},currentRoom:function(){return this.$store.state.chat.currentRoom},currentStaff:function(){return this.$store.state.chat.currentStaff},routeName:function(){return this.$route.name}},methods:{formatAMPM:function(t){var e=t.getHours(),n=t.getMinutes(),o=e>=12?"pm":"am";return(e=(e%=12)||12)+":"+(n=n<10?"0"+n:n)+" "+o},showChat:function(){this.$store.commit("chat/SHOW_CHAT")},hideChat:function(){this.$store.commit("chat/HIDE_CHAT")},selectChatPartner:function(t){this.$store.commit("chat/SELECT_CHAT_PARTNER",t)},selectRoom:function(t){this.$store.commit("chat/SELECT_ROOM",t)},getOrderMessages:function(data){var t,e;this.$store.commit("chat/HIDE_PROMPT"),"User"==this.userInfo.status?this.selectChatPartner(data):this.selectRoom(data);var n=this.userInfo.status;"User"==n?(t=this.userInfo.activeRoom,e=data):"Staff"==n&&(t=data,e=this.userInfo.staffType);var o=[t,e],r=this.userInfo.username;this.socket.emit("getOrderMessages",{members:o,user:r}),this.showChat()},processMessage:function(){var t,e=new Date,time=this.formatAMPM(e),data={date:"".concat(e.getDate(),"/").concat(e.getMonth()+1,"/").concat(e.getFullYear()),members:"User"==this.userInfo.status?[t=this.userInfo.username,this.currentRoom]:[t=this.userInfo.staffType,this.currentStaff],messages:{username:t,time:time,message:this.message}};this.sendMessage(data)},sendMessage:function(data){this.$store.dispatch("chat/SEND_MESSAGE",this.userInfo),this.socket.emit("sendMessage",data),this.message=""},getMessage:function(){var t=this,e=document.querySelector(".chat-body");this.socket.emit("getMessage",{id:"abc123"},(function(n){t.messageRxd=n,e.scrollTop=e.scrollHeight}))},scrollDown:function(){var t=document.querySelector(".chat-body");null!=t&&(t.scrollTop=t.scrollHeight)},getRooms:function(){"Staff"==this.userInfo.status&&this.socket.emit("getRooms",this.userInfo.staffType)},getOffices:function(){"User"==this.userInfo.status&&this.socket.emit("getOffices",this.userInfo.activeRoom)},filterRoom:function(data){this.getOrderMessages(data),this.showRooms=!this.showRooms,this.scrollDown()},filterOffice:function(data){this.getOrderMessages(data),this.showOffice=!this.showOffice,this.$store.commit("chat/SCROLL_DOWN")},fetchRooms:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/rooms/?isBooked=true");case 3:n=e.sent,t.roomsArray=n.data.data,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getHotel:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/hotel");case 3:n=e.sent,t.hotel=n.data.data[0],e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},mounted:function(){var t=this;this.fetchRooms(),this.getHotel(),this.socket=this.$nuxtSocket({});var e=this.userInfo;this.socket.on("roomMessages",(function(n,o){n.switchingUser==e.username&&(t.$store.commit("chat/SET_MESSAGES",n),t.scrollDown())})),this.socket.on("unreadRooms",(function(e,n){t.rooms=e})),this.socket.on("unreadOffices",(function(e,n){t.salesPoints=e})),this.getRooms(),this.getOffices()}}),c=(n(376),n(61)),component=Object(c.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"each-panel full"},[e("div",{attrs:{id:"messageSound"}}),t._v(" "),"User"==t.userInfo.status?e("h1",{staticClass:"panel-head"},[t._v("Service Orders")]):e("h1",{staticClass:"panel-head"},[t._v("Room Orders")]),t._v(" "),"User"==t.userInfo.status?e("div",{staticClass:"room-tags"},t._l(t.salesPoints,(function(n){return e("div",{key:n._id,staticClass:"custom-btn gray",on:{click:function(e){return t.getOrderMessages(n.members[1])}}},[e("div",[t._v(t._s(n.members[1]))]),t._v(" "),e("div",{staticClass:"notification room"})])})),0):"Restaurant"==t.userInfo.staffType||"Bar"==t.userInfo.staffType||"Reception"==t.userInfo.staffType?e("div",{staticClass:"room-tags"},[""!=t.rooms?e("div",t._l(t.rooms,(function(n){return e("div",{key:n._id,staticClass:"custom-btn gray",on:{click:function(e){return t.getOrderMessages(n.members[0])}}},[e("div",[t._v(t._s(n.members[0]))]),t._v(" "),e("div",{staticClass:"notification room"})])})),0):t._e()]):t._e(),t._v(" "),"Staff"==t.userInfo.status?e("div",{staticClass:"select-holder rooms"},[e("img",{staticClass:"caret-down",attrs:{src:"/img/white-caret-icon.svg",loading:"lazy",alt:""},on:{click:function(e){t.showRooms=!t.showRooms}}}),t._v(" "),e("h1",{staticClass:"div-block-140 colored",on:{click:function(e){t.showRooms=!t.showRooms}}},[t._v("\n      "+t._s(t.defaultRoom)+"\n    ")]),t._v(" "),e("ul",{staticClass:"search-result-list select",class:{hide:!t.showRooms},staticStyle:{"z-index":"99"},attrs:{role:"list"}},t._l(t.bookedRooms,(function(n,o){return e("li",{key:o,staticClass:"search-list",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.filterRoom(n.roomNumber)}}},[e("div",[t._v(t._s(n.roomNumber))])])})),0)]):e("div",{staticClass:"select-holder rooms"},[e("img",{staticClass:"caret-down",attrs:{src:"/img/white-caret-icon.svg",loading:"lazy",alt:""},on:{click:function(e){t.showOffice=!t.showOffice}}}),t._v(" "),e("h1",{staticClass:"div-block-140 colored",on:{click:function(e){t.showOffice=!t.showOffice}}},[t._v("\n      "+t._s(t.defaultOffice)+"\n    ")]),t._v(" "),t.offices.length>0?e("ul",{staticClass:"search-result-list select",class:{hide:!t.showOffice},staticStyle:{"z-index":"99"},attrs:{role:"list"}},t._l(t.offices,(function(n,o){return e("li",{key:o,staticClass:"search-list",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.filterOffice(n)}}},[e("div",[t._v(t._s(n))])])})),0):t._e()])])}),[],!1,null,null,null);e.a=component.exports},432:function(t,e,n){var content=n(546);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(160).default)("ce2f7332",content,!0,{sourceMap:!1})},545:function(t,e,n){"use strict";n(432)},546:function(t,e,n){var o=n(159)(!1);o.push([t.i,"div.status{padding:5px 10px;border-radius:3px;cursor:pointer;background:#feda77;color:#666;display:inline}div.status.success{background:#56e025;color:#fff}",""]),t.exports=o},602:function(t,e,n){"use strict";n.r(e);var o=n(0),r=(n(11),n(25),n(62),n(17),n(100),n(36),n(371),n(24),n(225),n(348)),c=n(390),l=n(391),h=n(349),d=n(350),m=n(351),f=n(387),v=n(388),_={components:{AdminFooter:h.a,AdminNavigation:m.a,AdminHeader:d.a,AdminCards:r.a,AdminSettingsFood:f.a,AdminSettingsItems:v.a,AdminChatNavigation:l.a,AdminChatBox:c.a},data:function(){return{orders:[],orderLength:"",currentPage:1,limit:4,sort:"-time",sortSign:"-",field:"All Items",pages:function(){for(var t=[],e=Math.ceil(this.orderLength/this.limit),i=0;i<e;i++)t.push("i");return t},date:""}},methods:{paginate:function(t){this.currentPage=t,this.getOrders()},formatAMPM:function(t){var e=t.getHours(),n=t.getMinutes(),o=e>=12?"pm":"am";return(e=(e%=12)||12)+":"+(n=n<10?"0"+n:n)+" "+o},formatMoney:function(t){return"N"+t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},formatDate:function(data){var t=new Date(data),e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getUTCDay()],n=t.getUTCDate(),o=n>3&&n<21?"th":["th","st","nd","rd","th"][n%10]||"th",r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getUTCMonth()],c=t.getUTCFullYear();return"".concat(e," ").concat(n).concat(o," ").concat(r,", ").concat(c)},setDate:function(){var t=new Date;this.date=t.getFullYear()+"-"+(t.getMonth()+1).toString().padStart(2,"0")+"-"+t.getDate().toString().padStart(2,"0")},getDailyOrder:function(t){this.date=t,this.getOrders()},updateOrder:function(t,e){var n=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var form;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:"admin-order"!=n.$route.name&&(form={status:e,foodId:t,userId:n.user._id},n.socket.emit("updateOrder",form));case 1:case"end":return o.stop()}}),o)})))()},updateTransaction:function(t,e){var n=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var form;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if("Staff"!=n.user.status){o.next=6;break}return form={transaction:e},o.next=4,n.$store.dispatch("item/UPDATE_ORDER",{id:t,form:form});case 4:200==o.sent.status&&n.getOrders();case 6:case"end":return o.stop()}}),o)})))()},getOrders:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="?sort=".concat(t.sort,"&limit=").concat(t.limit,"&page=").concat(t.currentPage,"&customerId=").concat(t.user._id),o=new Date(t.date),r="".concat(o.getDate(),"/").concat(o.getMonth(),"/").concat(o.getFullYear()),""!=t.date&&(n="".concat(n,"&day=").concat(r)),e.prev=4,e.next=7,t.$axios.get("/order/".concat(n));case 7:c=e.sent,t.orders=c.data.data,t.orderLength=c.data.resultLength,e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(4),e.abrupt("return",e.t0.response.data.message);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})))()}},computed:{user:function(){return this.$store.getters.getUserInfo}},mounted:function(){var t=this;this.setDate(),this.getOrders(),this.socket=this.$nuxtSocket({}),this.socket.on("updatedOrder",(function(data,e){t.getOrders()})),this.socket.on("createdOrder",(function(data,e){t.getOrders()})),this.socket.on("updatedSale",(function(data,e){t.getOrders()})),this.socket.on("updatedTransaction",(function(data,e){t.getOrders()}))}},y=(n(545),n(61)),component=Object(y.a)(_,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"order"},[e("AdminHeader"),t._v(" "),e("div",{staticClass:"admin-content"},[e("AdminNavigation"),t._v(" "),e("div",{staticClass:"middle-content"},[e("AdminCards"),t._v(" "),e("div",{staticClass:"panel-holder"},[e("AdminChatNavigation"),t._v(" "),e("AdminChatBox"),t._v(" "),e("AdminSettingsItems",{on:{getOrders:t.getOrders}}),t._v(" "),t._m(0)],1)],1)],1),t._v(" "),e("AdminFooter")],1)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"each-panel full ref"},[e("h1",{staticClass:"discount"},[t._v("\n            GET "),e("span",{staticClass:"text-span-2"},[t._v("5%")]),t._v(" DISCOUNT OF ANY ROOM WHEN\n            YOUR REFER US TO ANYONE\n          ")]),t._v(" "),e("div",{staticClass:"form-block-3 w-form"},[e("form",{staticClass:"ref-form",attrs:{id:"email-form-6",name:"email-form-6","data-name":"Email Form 6",method:"get"}},[e("div",{staticClass:"ref-holder"},[e("div",{staticClass:"custom-btn copy"},[e("img",{staticClass:"white-copy",attrs:{src:"https://uploads-ssl.webflow.com/62dec850062ac34180b54f5c/6367d96843f45800b8cb3f20_copy.svg",loading:"lazy",alt:""}}),t._v(" "),e("div",{staticClass:"text-block-10"},[t._v("Copy")])]),t._v(" "),e("input",{staticClass:"text-field-4 w-input",attrs:{type:"email",maxlength:"256",name:"email-5","data-name":"Email 5",placeholder:"",id:"email-5",required:""}})])]),t._v(" "),e("div",{staticClass:"w-form-done"},[e("div",[t._v("Thank you! Your submission has been received!")])]),t._v(" "),e("div",{staticClass:"w-form-fail"},[e("div",[t._v("Oops! Something went wrong while submitting the form.")])])])])}],!1,null,null,null);e.default=component.exports}}]);