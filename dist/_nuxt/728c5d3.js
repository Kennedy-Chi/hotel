(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{357:function(t,e,o){"use strict";var c={},r=o(61),component=Object(r.a)(c,(function(){this._self._c;return this._m(0)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"left-panel"},[e("div",{staticClass:"right-display"},[e("div",{staticClass:"display-banner"}),t._v(" "),e("div",{staticClass:"each-display"},[e("div",{staticClass:"each-display-img"},[e("img",{staticClass:"image-12",attrs:{src:"https://uploads-ssl.webflow.com/62dec850062ac34180b54f5c/62e6bfc0559876b28d0defec_admin.png",loading:"lazy",alt:""}})]),t._v(" "),e("a",{staticClass:"link-4",attrs:{href:"#"}},[t._v("Contact us for your express visa processing")])]),t._v(" "),e("div",{staticClass:"each-display"},[e("div",{staticClass:"each-display-img"},[e("img",{staticClass:"image-12",attrs:{src:"https://uploads-ssl.webflow.com/62dec850062ac34180b54f5c/62e6bfc0559876b28d0defec_admin.png",loading:"lazy",alt:""}})]),t._v(" "),e("a",{staticClass:"link-4",attrs:{href:"#"}},[t._v("Contact us for your express visa processing")])]),t._v(" "),e("div",{staticClass:"each-display"},[e("div",{staticClass:"each-display-img"},[e("img",{staticClass:"image-12",attrs:{src:"https://uploads-ssl.webflow.com/62dec850062ac34180b54f5c/62e6bfc0559876b28d0defec_admin.png",loading:"lazy",alt:""}})]),t._v(" "),e("a",{staticClass:"link-4",attrs:{href:"#"}},[t._v("Contact us for your express visa processing")])])]),t._v(" "),e("a",{staticClass:"link-block-4 w-inline-block",attrs:{href:"#"}},[e("img",{staticClass:"image-10",attrs:{src:"https://uploads-ssl.webflow.com/62dec850062ac34180b54f5c/6367871d321d972e093be9e6_hotel-logo.svg",loading:"lazy",alt:""}})]),t._v(" "),e("div",{staticClass:"right-panel-foot"},[e("div",{staticClass:"each-foot-holder"},[e("img",{staticClass:"image-11",attrs:{src:"https://uploads-ssl.webflow.com/62dec850062ac34180b54f5c/636789870001034d3df11405_power-off-line-icon%202.svg",loading:"lazy",alt:""}}),t._v(" "),e("div",{staticClass:"text-block-7"},[t._v("Logout")])]),t._v(" "),e("div",{staticClass:"each-foot-holder"},[e("img",{staticClass:"image-11",attrs:{src:"https://uploads-ssl.webflow.com/62dec850062ac34180b54f5c/6367a4d826b9afb1664c47bb_Help.svg",loading:"lazy",alt:""}}),t._v(" "),e("div",{staticClass:"text-block-7"},[t._v("Help")])])])])}],!1,null,null,null);e.a=component.exports},443:function(t,e,o){var content=o(571);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(160).default)("5716f214",content,!0,{sourceMap:!1})},570:function(t,e,o){"use strict";o(443)},571:function(t,e,o){var c=o(159)(!1);c.push([t.i,".message{letter-spacing:1px;text-align:center;width:100%;padding-bottom:10px;margin-bottom:10px}.rooms.message.success{background:#0ab50a;color:#fff}.rooms.message.error{background:#ea1515;color:#fff}",""]),t.exports=c},593:function(t,e,o){"use strict";o.r(e);o(36);var c=o(0),r=(o(11),o(25),o(62),o(17),o(100),o(352)),n=o(353),l=o(354),d=o(355),m=o(357),v={components:{AdminHeader:l.a,AdminNavigation:d.a,AdminCards:r.a,AdminSideNews:m.a,AdminFooter:n.a},data:function(){return{room:"",checkIn:"",checkOut:"",preview:!0,responseMsg:"",showResponseMsg:!1,error:!0,discount:"5",amount:"",balance:""}},methods:{formatMoney:function(t){return"N"+t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},goBack:function(){this.$router.go(-1)},formatDate:function(t){var e=new Date(t);return"".concat(e.getDate(),"/").concat(e.getMonth(),"/").concat(e.getFullYear())},callError:function(t,e,o){this.showResponseMsg=t,this.error=e,this.responseMsg=o},calculateAmount:function(){var t=new Date(this.checkIn).getTime(),e=new Date(this.checkOut).getTime(),o=Math.floor((new Date).getTime()/864e5);if(isNaN(t)||isNaN(e))this.callError(!0,!0,"Please choose check in and check out dates");else if(o>Math.floor(t/864e5)||o>Math.floor(e/864e5))this.callError(!0,!0,"Sorry you can't checkin or checkout in previous days");else{var c=Math.ceil(Math.abs(e-t)/864e5);c<1&&(c=1);var r=Math.ceil(c*this.room.roomPrice);this.discount=Math.floor(5*r/100),this.amount=r,this.balance=r-this.discount,this.preview=!1}},bookRoom:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var o,c,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.room._id,c=[],e.next=4,JSON.parse(JSON.stringify(t.userInfo.bookedRooms));case 4:return""==(c=e.sent)[0]&&1==c.length?c[0]=t.room.roomNumber:c.push(t.room.roomNumber),r={occupantId:t.userInfo._id,expenses:t.userInfo.expenses,checkIn:new Date(t.checkIn).getTime(),checkOut:new Date(t.checkOut).getTime(),balance:t.balance,bookedRooms:c,transaction:!0,bookedDate:(new Date).getTime()},e.prev=7,e.next=10,t.$store.dispatch("pages/room/BOOK_ROOM",{id:o,roomDetails:r});case 10:t.refreshUser(),alert("Room Booked Successfully!"),window.location.assign("/admin/book"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[7,15]])})))()},refreshUser:function(){this.$store.dispatch("REFRESH_USER")},processPayment:function(){var t=this,e=this.userInfo;e.autoRegister?PaystackPop.setup({key:"pk_test_535a57316d2e3eafe6656ab5ac7bc002eaec3b6b",email:e.email,amount:100*this.balance,onClose:function(){alert("Window closed.")},callback:function(e){t.bookRoom()}}).openIframe():this.bookRoom()},getRoom:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.$route.params.id,e.next=3,t.$store.dispatch("pages/room/GET_ROOM",o);case 3:c=e.sent,t.room=c;case 5:case"end":return e.stop()}}),e)})))()}},computed:{userInfo:function(){return this.$store.getters.getUserInfo},URL:function(){return this.$store.state.API_URL}},mounted:function(){this.getRoom();var t=document.getElementById("script1");null!=t&&document.body.removeChild(t);var e=document.createElement("script");e.type="text/javascript",e.src="/js/paystack.js",e.id="script1",document.body.appendChild(e)}},h=(o(570),o(61)),component=Object(h.a)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"booking-details"},[e("AdminHeader"),t._v(" "),e("div",{staticClass:"admin-content"},[e("AdminNavigation"),t._v(" "),e("div",{staticClass:"middle-content"},[e("AdminCards"),t._v(" "),e("div",{staticClass:"panel-holder"},[t.preview?e("div",{staticClass:"each-panel full detail"},[e("div",{staticClass:"detail-img"},[t.room.roomPictures?e("img",{staticClass:"image-13",attrs:{src:"".concat(t.URL,"/uploads/").concat(t.room.roomPictures[0]),loading:"lazy",srcset:("".concat(t.URL,"/uploads/").concat(t.room.roomPictures[0]," 500w"),"".concat(t.URL,"/uploads/").concat(t.room.roomPictures[0]," 800w"),"".concat(t.URL,"/uploads/").concat(t.room.roomPictures[0]," 1080w"),"".concat(t.URL,"/uploads/").concat(t.room.roomPictures[0]," 1600w"),"".concat(t.URL,"/uploads/").concat(t.room.roomPictures[0]," 1920w")),sizes:"(max-width: 479px) 94vw, (max-width: 767px) 48vw, (max-width: 1279px) 34vw, 47vw",alt:""}}):t._e()]),t._v(" "),e("div",{staticClass:"detail-content w-form"},[e("form",{attrs:{action:"#"}},[e("label",{staticClass:"detail-title",attrs:{for:"name"}},[t._v("Room Booking Details")]),t._v(" "),e("div",{staticClass:"each-details room"},[e("div",{staticClass:"room-des"},[t._v("Name:")]),t._v(" "),e("div",{staticClass:"room-val"},[t._v(t._s(t.room.roomName))])]),t._v(" "),e("div",{staticClass:"each-details room"},[e("div",{staticClass:"room-des"},[t._v("Price:")]),t._v(" "),t.room.roomPrice?e("div",{staticClass:"room-val"},[t._v("\n                  "+t._s(t.formatMoney(t.room.roomPrice))+" / Night\n                ")]):t._e()]),t._v(" "),e("div",{staticClass:"each-details room"},[e("div",{staticClass:"room-des"},[t._v("Room No.:")]),t._v(" "),e("div",{staticClass:"room-val"},[t._v(t._s(t.room.roomNumber))])]),t._v(" "),e("label",{staticClass:"detail-title down",attrs:{for:"name-8"}},[t._v("Fill In & Book Below")]),t._v(" "),e("div",{staticClass:"check-wrapper"},[e("div",{staticClass:"checkin"},[e("div",{staticClass:"checkin-label"},[t._v("Check In")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.checkIn,expression:"checkIn"}],staticClass:"check-date w-input",attrs:{type:"date",required:""},domProps:{value:t.checkIn},on:{input:function(e){e.target.composing||(t.checkIn=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"checkin"},[e("div",{staticClass:"checkin-label"},[t._v("Check Out")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.checkOut,expression:"checkOut"}],staticClass:"check-date w-input",attrs:{type:"date",required:""},domProps:{value:t.checkOut},on:{input:function(e){e.target.composing||(t.checkOut=e.target.value)}}})])]),t._v(" "),t.showResponseMsg?e("div",{staticClass:"message rooms",class:{success:0==t.error,error:1==t.error}},[t._v("\n                "+t._s(t.responseMsg)+"\n                "),e("span",{on:{click:function(e){t.showResponseMsg=!1}}},[t._v("X")])]):t._e(),t._v(" "),e("input",{staticClass:"custom-btn w-button",attrs:{type:"button",value:"Back","data-wait":"Please wait..."},on:{click:t.goBack}}),t._v(" "),e("input",{staticClass:"custom-btn w-button",attrs:{type:"button",value:"Proceed","data-wait":"Please wait..."},on:{click:t.calculateAmount}})])])]):e("div",{staticClass:"each-panel full detail"},[e("div",{staticClass:"detail-img"},[t.room.roomPictures?e("img",{staticClass:"image-13",attrs:{src:"".concat(t.URL,"/uploads/").concat(t.room.roomPictures[0]),loading:"lazy",srcset:("".concat(t.URL,"/uploads/").concat(t.room.roomPictures[0]," 500w"),"".concat(t.URL,"/uploads/").concat(t.room.roomPictures[0]," 800w"),"".concat(t.URL,"/uploads/").concat(t.room.roomPictures[0]," 1080w"),"".concat(t.URL,"/uploads/").concat(t.room.roomPictures[0]," 1600w"),"".concat(t.URL,"/uploads/").concat(t.room.roomPictures[0]," 1920w")),sizes:"(max-width: 479px) 94vw, (max-width: 767px) 48vw, (max-width: 1279px) 34vw, 47vw",alt:""}}):t._e()]),t._v(" "),e("div",{staticClass:"detail-content w-form"},[e("form",{attrs:{id:"email-form-9",name:"email-form-9","data-name":"Email Form 9",method:"get"}},[e("label",{staticClass:"detail-title",attrs:{for:"name-8"}},[t._v("Room Booking Summary")]),t._v(" "),e("div",{staticClass:"each-details room"},[e("div",{staticClass:"room-des"},[t._v("Name:")]),t._v(" "),e("div",{staticClass:"room-val"},[t._v(t._s(t.room.roomName))])]),t._v(" "),e("div",{staticClass:"each-details room"},[e("div",{staticClass:"room-des"},[t._v("Price:")]),t._v(" "),e("div",{staticClass:"room-val"},[t._v(t._s(t.formatMoney(t.amount)))])]),t._v(" "),e("div",{staticClass:"each-details room"},[e("div",{staticClass:"room-des"},[t._v("Room No.:")]),t._v(" "),e("div",{staticClass:"room-val"},[t._v(t._s(t.room.roomNumber))])]),t._v(" "),e("div",{staticClass:"each-details room"},[e("div",{staticClass:"room-des"},[t._v("Discount:")]),t._v(" "),e("div",{staticClass:"room-val"},[t._v("\n                  "+t._s(t.formatMoney(t.discount))+"\n                ")])]),t._v(" "),e("div",{staticClass:"each-details room"},[e("div",{staticClass:"room-des"},[t._v("Balance:")]),t._v(" "),e("div",{staticClass:"room-val"},[t._v("\n                  "+t._s(t.formatMoney(t.balance))+"\n                ")])]),t._v(" "),e("div",{staticClass:"each-details room"},[e("div",{staticClass:"room-des"},[t._v("Duration:")]),t._v(" "),e("div",{staticClass:"room-val"},[t._v("\n                  "+t._s(t.formatDate(t.checkIn))+" - "+t._s(t.formatDate(t.checkOut))+"\n                ")])]),t._v(" "),e("input",{staticClass:"custom-btn w-button",attrs:{type:"button",value:"Back","data-wait":"Please wait..."},on:{click:function(e){t.preview=!0}}}),e("input",{staticClass:"custom-btn w-button",attrs:{type:"button",value:"Confirm","data-wait":"Please wait..."},on:{click:t.processPayment}})])])]),t._v(" "),t._m(0)])],1),t._v(" "),e("AdminSideNews")],1),t._v(" "),e("AdminFooter")],1)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"each-panel full ref"},[e("h1",{staticClass:"discount"},[t._v("\n            GET "),e("span",{staticClass:"text-span-2"},[t._v("5%")]),t._v(" DISCOUNT OF ANY ROOM WHEN\n            YOUR REFER US TO ANYONE\n          ")]),t._v(" "),e("div",{staticClass:"form-block-3 w-form"},[e("form",{staticClass:"ref-form",attrs:{id:"email-form-6",name:"email-form-6","data-name":"Email Form 6",method:"get"}},[e("div",{staticClass:"ref-holder"},[e("div",{staticClass:"custom-btn copy"},[e("img",{staticClass:"white-copy",attrs:{src:"https://uploads-ssl.webflow.com/62dec850062ac34180b54f5c/6367d96843f45800b8cb3f20_copy.svg",loading:"lazy",alt:""}}),t._v(" "),e("div",{staticClass:"text-block-10"},[t._v("Copy")])]),t._v(" "),e("input",{staticClass:"text-field-4 w-input",attrs:{type:"email",maxlength:"256",name:"email-5","data-name":"Email 5",placeholder:"",id:"email-5",required:""}})])]),t._v(" "),e("div",{staticClass:"w-form-done"},[e("div",[t._v("Thank you! Your submission has been received!")])]),t._v(" "),e("div",{staticClass:"w-form-fail"},[e("div",[t._v("Oops! Something went wrong while submitting the form.")])])])])}],!1,null,null,null);e.default=component.exports}}]);